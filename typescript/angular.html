

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="es" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="es" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Framework: Angular &mdash; Fullcoder Manuales</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/faculty.css" type="text/css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans|Roboto:400,700|Roboto+Mono:400,700&display=swap" type="text/css" />
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

  
    <a class="heading heading-extra-margin" href="../index.html">
      <div class="logo-box logo-box-large">
        <img class="logo" src="../_static/fullcoderlogo.png"/>
      </div>
      
        <span class="icon icon-home"> Fullcoder</span>
      
    </a>
  

  
    
    
  

  
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">PHP:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../php/sintaxis.html">Sintaxis PHP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../php/funciones.html">Funciones predefinidas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../php/procesamiento.html">Comunicación Cliente / Servidor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../php/database.html">Manipulación de base de datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../php/paquetes.html">Manejo de paquetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../php/cifrado.html">Codificación y Hash</a></li>
<li class="toctree-l1"><a class="reference internal" href="../php/laravel.html">Framework: Laravel</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../python/sintaxis.html">Sintaxis Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/funciones.html">Funciones predefinidas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/librerias.html">Librería Estandar</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/otras_librerias.html">Otras Librerías Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/database.html">Bases de datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/paquetes.html">Manejo de paquetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/emails.html">Emails con Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/entornos.html">Entornos Virtuales</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/analisis.html">Análisis de datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/django.html">Framework: Django</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/flask.html">Microframework: Flask</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/drf.html">Framework: Django Rest Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/testing.html">Testing en Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/despliegue.html">Gunicorn: Despliegue web</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">JavaScript:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../javascript/sintaxis.html">Sintaxis javascript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../javascript/funciones.html">Funciones</a></li>
<li class="toctree-l1"><a class="reference internal" href="../javascript/entornos.html">NVM: ntornos Virtuales</a></li>
<li class="toctree-l1"><a class="reference internal" href="../javascript/nodejs.html">Entornos: Node.JS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../javascript/expressjs.html">Entornos: Node.JS</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">GO:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../go/sintaxis.html">Sintaxis GO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../go/funciones.html">Funciones predefinidas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../go/librerias.html">Librería Estandar</a></li>
<li class="toctree-l1"><a class="reference internal" href="../go/concurrencia.html">Concurrencia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../go/testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../go/web.html">Desarrollo Web</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">C#:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../csharp/sintaxis.html">Sintaxis C#</a></li>
<li class="toctree-l1"><a class="reference internal" href="../csharp/funciones.html">Funciones predefinidas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../csharp/librerias.html">Namespace System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../csharp/eventos.html">Eventos y Delegados</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Otros Lenguajes:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../otros/basic.html">Basic y Commodore 64</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Fullcoder</a>
        
      </nav>


      <div class="wy-nav-content">

  

  
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
  <li class="breadcrumb"><a href="../index.html">Fullcoder</a> &raquo;</li>
    
  <li class="breadcrumb">Framework: Angular</li>

    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/typescript/angular.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="framework-angular">
<h1><a class="toc-backref" href="#id13">Framework: Angular</a><a class="headerlink" href="#framework-angular" title="Enlazar permanentemente con este título">¶</a></h1>
<a class="reference internal image-reference" href="logos/logo-angular.png"><img alt="Logo Angular" class="align-center" src="logos/logo-angular.png" /></a>
<p>Documentación básica de Angular 12</p>
<div class="contents topic" id="indice">
<p class="topic-title">Índice</p>
<ul class="simple">
<li><p><a class="reference internal" href="#framework-angular" id="id13">Framework: Angular</a></p>
<ul>
<li><p><a class="reference internal" href="#configuraciones" id="id14">Configuraciones</a></p>
<ul>
<li><p><a class="reference internal" href="#instalacion-de-angular-cli" id="id15">Instalación de Angular CLI</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#angular-cli-y-otros-comandos" id="id16">ANGULAR CLI y otros comandos</a></p>
<ul>
<li><p><a class="reference internal" href="#otros-comandos-utiles-de-npm" id="id17">Otros comandos útiles de npm</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#estructura-del-proyecto" id="id18">Estructura del proyecto</a></p></li>
<li><p><a class="reference internal" href="#componentes" id="id19">Componentes</a></p>
<ul>
<li><p><a class="reference internal" href="#crear-un-componente" id="id20">Crear un componente</a></p></li>
<li><p><a class="reference internal" href="#crear-componente-en-linea" id="id21">Crear componente en línea</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#data-binding" id="id22">Data Binding</a></p>
<ul>
<li><p><a class="reference internal" href="#atributos" id="id23">Atributos</a></p></li>
<li><p><a class="reference internal" href="#metodos" id="id24">Métodos</a></p></li>
<li><p><a class="reference internal" href="#assets" id="id25">Assets</a></p></li>
<li><p><a class="reference internal" href="#atributos-dinamicos" id="id26">Atributos dinámicos</a></p></li>
<li><p><a class="reference internal" href="#eventos-del-dom-event-binding" id="id27">Eventos del DOM (event binding)</a></p></li>
<li><p><a class="reference internal" href="#recuperar-valores-de-plantilla-two-way-binding" id="id28">Recuperar valores de plantilla (Two Way binding)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#ciclo-de-vida" id="id29">Ciclo de vida</a></p>
<ul>
<li><p><a class="reference internal" href="#constructor-cargar-metodos-y-datos-que-construyen-la-aplicacion" id="id30">Constructor - Cargar métodos y datos que construyen la aplicación</a></p></li>
<li><p><a class="reference internal" href="#ngoninit-cargar-metodo-cuando-se-inicialice-el-componente" id="id31">ngOnInit() - Cargar método cuando se inicialice el componente</a></p></li>
<li><p><a class="reference internal" href="#ngaftercontentchecked-ejecutar-despues-de-que-se-refresque-un-componente" id="id32">ngAfterContentChecked() - Ejecutar después de que se refresque un componente</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#pipes" id="id33">Pipes</a></p>
<ul>
<li><p><a class="reference internal" href="#pipes-de-texto" id="id34">Pipes de texto</a></p></li>
<li><p><a class="reference internal" href="#pipes-de-formato-y-fecha" id="id35">Pipes de formato y fecha</a></p></li>
<li><p><a class="reference internal" href="#pipes-numericos" id="id36">Pipes núméricos</a></p></li>
<li><p><a class="reference internal" href="#crear-un-pipe" id="id37">Crear un pipe</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#directivas-angular" id="id38">Directivas angular</a></p>
<ul>
<li><p><a class="reference internal" href="#directivas-de-control" id="id39">Directivas de control</a></p>
<ul>
<li><p><a class="reference internal" href="#condicional-if-ngif" id="id40">Condicional if (*ngIf)</a></p></li>
<li><p><a class="reference internal" href="#condicional-switch-ngswitch" id="id41">Condicional Switch (*ngSwitch)</a></p></li>
<li><p><a class="reference internal" href="#condicional-for-ngfor" id="id42">Condicional For (*ngFor)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#directivas-de-atributos" id="id43">Directivas de atributos</a></p>
<ul>
<li><p><a class="reference internal" href="#implementar-clase-ngclass" id="id44">Implementar clase ngClass</a></p></li>
<li><p><a class="reference internal" href="#implementar-estilo-ngstyle" id="id45">Implementar estilo ngStyle</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#jerarquia-de-componentes" id="id46">Jerarquía de componentes</a></p>
<ul>
<li><p><a class="reference internal" href="#enviar-valores-de-padre-a-hijo" id="id47">Enviar valores de padre a hijo</a></p></li>
<li><p><a class="reference internal" href="#enviar-valores-de-hijo-a-padre" id="id48">Enviar valores de hijo a padre</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#servicios-en-angular" id="id49">Servicios en Angular</a></p>
<ul>
<li><p><a class="reference internal" href="#cargar-datos-en-servicio" id="id50">Cargar datos en servicio</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#interfaces-angular" id="id51">Interfaces Angular</a></p></li>
<li><p><a class="reference internal" href="#rutas-en-angular" id="id52">Rutas en angular</a></p>
<ul>
<li><p><a class="reference internal" href="#enlaces-de-rutas" id="id53">Enlaces de rutas</a></p></li>
<li><p><a class="reference internal" href="#rutas-no-existente" id="id54">Rutas no existente</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#formularios-reactivos" id="id55">Formularios Reactivos</a></p></li>
<li><p><a class="reference internal" href="#peticiones-http" id="id56">Peticiones HTTP</a></p>
<ul>
<li><p><a class="reference internal" href="#preparativos" id="id57">Preparativos</a></p></li>
<li><p><a class="reference internal" href="#crear-servicio-http" id="id58">Crear servicio Http</a></p></li>
<li><p><a class="reference internal" href="#peticiones-get" id="id59">Peticiones GET</a></p></li>
<li><p><a class="reference internal" href="#peticiones-post" id="id60">Peticiones POST</a></p></li>
<li><p><a class="reference internal" href="#peticiones-put" id="id61">Peticiones PUT</a></p></li>
<li><p><a class="reference internal" href="#peticiones-delete" id="id62">Peticiones DELETE</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#angular-material" id="id63">Angular Material</a></p>
<ul>
<li><p><a class="reference internal" href="#preparacion" id="id64">Preparación</a></p></li>
<li><p><a class="reference internal" href="#uso-de-componentes" id="id65">Uso de componentes</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<section id="configuraciones">
<h2><a class="toc-backref" href="#id14">Configuraciones</a><a class="headerlink" href="#configuraciones" title="Enlazar permanentemente con este título">¶</a></h2>
<section id="instalacion-de-angular-cli">
<h3><a class="toc-backref" href="#id15">Instalación de Angular CLI</a><a class="headerlink" href="#instalacion-de-angular-cli" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Para gestionar Angular hay que instalar Angular CLI: <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">install</span> <span class="pre">-g</span> <span class="pre">&#64;angular/cli</span></code></p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Para instalar en Linux utilizar el comando <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">npm</span> <span class="pre">install</span> <span class="pre">-g</span> <span class="pre">&#64;angular/cli</span></code></p>
</div>
</section>
</section>
<section id="angular-cli-y-otros-comandos">
<h2><a class="toc-backref" href="#id16">ANGULAR CLI y otros comandos</a><a class="headerlink" href="#angular-cli-y-otros-comandos" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Para ejecutar un comando de Angular CLI el prefijo que se utiliza es <code class="docutils literal notranslate"><span class="pre">ng</span></code>:</p>
<ul class="simple">
<li><p>Comprobar versión de angular/cli: <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">--version</span></code></p></li>
<li><p>Crear proyecto: <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">new</span> <span class="pre">nombre-proyecto</span></code></p></li>
<li><p>Levantar servidor y abrir navegador: <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">serve</span> <span class="pre">-o</span></code> (ruta por defecto: localhost:4200)</p></li>
<li><p>Levantar en otro puerto: <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">serve</span> <span class="pre">-o</span> <span class="pre">--port</span> <span class="pre">4500</span></code></p></li>
<li><p>Crear un componente:  <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">generate</span> <span class="pre">component</span> <span class="pre">nombre_componente</span></code></p></li>
<li><p>Crear componente en linea: <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">generate</span> <span class="pre">component</span> <span class="pre">comonente_linea</span> <span class="pre">-s</span> <span class="pre">-t</span></code></p></li>
<li><p>Crear un pipe: <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">generate</span> <span class="pre">pipe</span> <span class="pre">nombrePipe</span></code></p></li>
<li><p>Crear un servicio: <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">generate</span> <span class="pre">service</span> <span class="pre">nombreServicio</span></code></p></li>
<li><p>Crear interface en angular: <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">generate</span> <span class="pre">interface</span> <span class="pre">nombreInterface</span></code></p></li>
<li><p>Construir aplicación: <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">build</span></code> (se guarda en la carpeta dist)</p></li>
<li><p>Instalar librerías en angular: <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">add</span> <span class="pre">&#64;angular/material</span></code></p></li>
</ul>
<section id="otros-comandos-utiles-de-npm">
<h3><a class="toc-backref" href="#id17">Otros comandos útiles de npm</a><a class="headerlink" href="#otros-comandos-utiles-de-npm" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Instalar todas las dependencias: <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">install</span></code> (no es un comando ng pero es importante recordarlo)</p></li>
<li><p>Instalar servidor para aplicación construida: <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">install</span> <span class="pre">-g</span> <span class="pre">serve</span></code></p></li>
<li><p>Ejecutar aplicación angular ya construida (desde su carpeta dentro de dist): <code class="docutils literal notranslate"><span class="pre">serve</span></code></p></li>
</ul>
<div class="admonition attention">
<p class="admonition-title">Atención</p>
<p>Para ejecutar en Windows estos comandos CLI se usará la aplicación <code class="docutils literal notranslate"><span class="pre">nodejs</span> <span class="pre">command</span> <span class="pre">prompt</span></code> o ejecutar con el prefijo <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">run</span> <span class="pre">ng</span></code></p>
</div>
</section>
</section>
<section id="estructura-del-proyecto">
<h2><a class="toc-backref" href="#id18">Estructura del proyecto</a><a class="headerlink" href="#estructura-del-proyecto" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Partes importantes del proyecto:
* package.json: archivo con las dependencias del proyecto.
* angular.json: se encuentra la configuración del proyecto.
* e2e: Carpeta test de integración
* src: carpeta del proyecto en la cual vemos:</p>
<blockquote>
<div><ul class="simple">
<li><p>index.html: pagina de entrada de la aplicación.</p></li>
<li><p>main.ts: es donde se cargan los módulos.</p></li>
<li><p>style.css: estilos a nivel global.</p></li>
<li><p>test.ts: archivo para realizar tests.</p></li>
<li><p>enviorments: carpeta para variables de entornos.</p></li>
<li><p>assets: carpeta de archivos estáticos como imágenes.</p></li>
<li><p>app: carpeta del módulo principal donde se irá añadiendo el resto de componentes.</p></li>
</ul>
</div></blockquote>
</section>
<section id="componentes">
<h2><a class="toc-backref" href="#id19">Componentes</a><a class="headerlink" href="#componentes" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Los componentes se encuentran en la carpeta <strong>src</strong>.
Es ideal crear una carpeta <strong>components</strong> dentro de <strong>src</strong> para ordenarlos ya que se van a reutilizar en distintos módulos.
Cada componente se organizará en una carpeta con el siguiente contenido:
* Hoja de estilo CSS u otro tipo.
* Archivo HTML.
* Controlador Typescript.
* Modulo Typescript.</p>
<section id="crear-un-componente">
<h3><a class="toc-backref" href="#id20">Crear un componente</a><a class="headerlink" href="#crear-un-componente" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Para crear un componente se ejecuta el comando: <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">generate</span> <span class="pre">component</span> <span class="pre">nombre_componente</span></code>
Crear componente dentro de una carpeta <strong>components</strong>: <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">generate</span> <span class="pre">component</span> <span class="pre">components/menu</span></code>
* Lo primero que vamos a hacer es borrar el contenido del archivo <strong>app.component.html</strong> y lo reemplazamos por:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">2</span>    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Componente principal<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="linenos">3</span>    <span class="p">&lt;</span><span class="nt">hr</span><span class="p">&gt;</span>
<span class="linenos">4</span>    <span class="p">&lt;</span><span class="nt">app-menu</span><span class="p">&gt;&lt;/</span><span class="nt">app-menu</span><span class="p">&gt;</span>
<span class="linenos">5</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Ahora editamos el contenido de <strong>menu.component.html</strong>:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;menu&quot;</span><span class="p">&gt;</span>
<span class="linenos">2</span>    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Soy el menú<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="linenos">3</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Y de paso editamos el css de menu en <strong>menu.component.css</strong>:</p></li>
</ul>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="nt">h2</span><span class="p">{</span><span class="w"></span>
<span class="linenos">2</span><span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="kc">red</span><span class="p">;</span><span class="w"></span>
<span class="linenos">3</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Esto mostrará el título del módulo y el subtítulo del componente menú de color rojo.</p>
</section>
<section id="crear-componente-en-linea">
<h3><a class="toc-backref" href="#id21">Crear componente en línea</a><a class="headerlink" href="#crear-componente-en-linea" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Un componente en línea contiene en un solo archivo ts, la lógica, el código html y el código css:</p>
<ul class="simple">
<li><p>Crear componente en linea: <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">generate</span> <span class="pre">component</span> <span class="pre">comonente_linea</span> <span class="pre">-s</span> <span class="pre">-t</span></code></p></li>
</ul>
</section>
</section>
<section id="data-binding">
<h2><a class="toc-backref" href="#id22">Data Binding</a><a class="headerlink" href="#data-binding" title="Enlazar permanentemente con este título">¶</a></h2>
<section id="atributos">
<h3><a class="toc-backref" href="#id23">Atributos</a><a class="headerlink" href="#atributos" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Crear y asignar en componente <strong>app.component.ts</strong>:</p></li>
</ul>
<div class="highlight-Typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kd">@Component</span><span class="p">({</span>
<span class="linenos"> 4</span>    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-root&#39;</span><span class="p">,</span>
<span class="linenos"> 5</span>    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./app.component.html&#39;</span><span class="p">,</span>
<span class="linenos"> 6</span>    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./app.component.css&#39;</span><span class="p">]</span>
<span class="linenos"> 7</span><span class="p">})</span>
<span class="linenos"> 8</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">AppComponent</span> <span class="p">{</span>
<span class="linenos"> 9</span>    <span class="c1">// crear una variable en el componente:</span>
<span class="linenos">10</span>    <span class="nx">mensaje</span>: <span class="kt">string</span> <span class="o">=</span> <span class="s2">&quot;Mensaje desde el componente app&quot;</span><span class="p">;</span>
<span class="linenos">11</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Utilizar variable en plantilla <strong>app.template.html</strong>:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>{{mensaje}}<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
<section id="metodos">
<h3><a class="toc-backref" href="#id24">Métodos</a><a class="headerlink" href="#metodos" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Retornar datos de un método:</p>
<p>Uso en el template:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;card&quot;</span><span class="p">&gt;</span>
<span class="linenos">2</span>    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Consola: {{consola.marca}} {{consola.modelo}}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="linenos">3</span>    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Edad: {{getEdad()}} años<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="linenos">4</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
<section id="assets">
<h3><a class="toc-backref" href="#id25">Assets</a><a class="headerlink" href="#assets" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Tratamiento estático de assets en templates:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;card&quot;</span><span class="p">&gt;</span>
<span class="linenos">2</span>    <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;/assets/img/imagen-prueba.jpg&quot;</span><span class="p">&gt;</span>
<span class="linenos">3</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Asignación de assets en componentes:</p></li>
</ul>
<div class="highlight-Typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="nx">imagen</span>: <span class="kt">string</span> <span class="o">=</span> <span class="s1">&#39;/assets/img/prueba-imagen.jpg&#39;</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="atributos-dinamicos">
<h3><a class="toc-backref" href="#id26">Atributos dinámicos</a><a class="headerlink" href="#atributos-dinamicos" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>En el controlador existe un atributo con una ruta, se carga la variable en el template:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>&lt;img [src]=&quot;imagen&quot;&gt;
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Esto vale para cargar información en cualquier atributo de la etiqueta.</p>
</div>
</section>
<section id="eventos-del-dom-event-binding">
<h3><a class="toc-backref" href="#id27">Eventos del DOM (event binding)</a><a class="headerlink" href="#eventos-del-dom-event-binding" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Angular dispone de todos los métodos tácticos del DOM usados en HTML para dispara acciones:</p>
<ul class="simple">
<li><p>En el componente se crea un método:</p></li>
</ul>
<div class="highlight-Typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kd">@Component</span><span class="p">({</span>
<span class="linenos"> 4</span>    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-saludar&#39;</span><span class="p">,</span>
<span class="linenos"> 5</span>    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./saludar.component.html&#39;</span><span class="p">,</span>
<span class="linenos"> 6</span>    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./saludar.component.css&#39;</span><span class="p">]</span>
<span class="linenos"> 7</span><span class="p">})</span>
<span class="linenos"> 8</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">SaludarComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
<span class="linenos"> 9</span>    <span class="c1">// se crea un atributo para el HTML:</span>
<span class="linenos">10</span>    <span class="k">public</span> <span class="nx">saludo</span>: <span class="kt">string</span><span class="p">;</span>
<span class="linenos">11</span>
<span class="linenos">12</span>    <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos">13</span>        <span class="c1">// Se inicializa el atributo con un mensaje o nada:</span>
<span class="linenos">14</span>        <span class="k">this</span><span class="p">.</span><span class="nx">saludo</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
<span class="linenos">15</span>    <span class="p">}</span>
<span class="linenos">16</span>
<span class="linenos">17</span>    <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">18</span>    <span class="p">}</span>
<span class="linenos">19</span>
<span class="linenos">20</span>    <span class="c1">// este método dispara el saludo:</span>
<span class="linenos">21</span>    <span class="nx">startSaludo</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span><span class="p">{</span>
<span class="linenos">22</span>        <span class="k">this</span><span class="p">.</span><span class="nx">saludo</span> <span class="o">=</span> <span class="s2">&quot;Hola amigo, ¿quién eres?&quot;</span><span class="p">;</span>
<span class="linenos">23</span>    <span class="p">}</span>
<span class="linenos">24</span>
<span class="linenos">25</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Este método ahora se puede disparar al hacer click en el botón:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>&lt;div class=&quot;card&quot;&gt;
<span class="linenos">2</span>    &lt;h1&gt;Ejemplo de saludo&lt;/h1&gt;
<span class="linenos">3</span>    &lt;hr&gt;
<span class="linenos">4</span>    &lt;p&gt;{{ saludo }}&lt;/p&gt;
<span class="linenos">5</span>    &lt;button (click)=&quot;startSaludo()&quot;&gt;Saludar&lt;/button&gt;
<span class="linenos">6</span>&lt;/div&gt;
</pre></div>
</div>
</section>
<section id="recuperar-valores-de-plantilla-two-way-binding">
<h3><a class="toc-backref" href="#id28">Recuperar valores de plantilla (Two Way binding)</a><a class="headerlink" href="#recuperar-valores-de-plantilla-two-way-binding" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Para recuperar valores de la plantilla como datos de un formulario se hace lo siguiente:</p>
<ol class="arabic simple">
<li><p>Se carga el modulo de formularios en <strong>app.module.ts</strong>:</p></li>
</ol>
<div class="highlight-Typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">NgModule</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span><span class="k">import</span> <span class="p">{</span> <span class="nx">BrowserModule</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/platform-browser&#39;</span><span class="p">;</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="k">import</span> <span class="p">{</span> <span class="nx">AppComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./app.component&#39;</span><span class="p">;</span>
<span class="linenos"> 5</span><span class="k">import</span> <span class="p">{</span> <span class="nx">MenuComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./components/menu/menu.component&#39;</span><span class="p">;</span>
<span class="linenos"> 6</span><span class="k">import</span> <span class="p">{</span> <span class="nx">InterpolationComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./components/interpolation/interpolation.component&#39;</span><span class="p">;</span>
<span class="linenos"> 7</span><span class="k">import</span> <span class="p">{</span> <span class="nx">PropertyBindingComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./components/property-binding/property-binding.component&#39;</span><span class="p">;</span>
<span class="linenos"> 8</span><span class="k">import</span> <span class="p">{</span> <span class="nx">EventBindingComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./components/event-binding/event-binding.component&#39;</span><span class="p">;</span>
<span class="linenos"> 9</span><span class="k">import</span> <span class="p">{</span> <span class="nx">SaludarComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./components/saludar/saludar.component&#39;</span><span class="p">;</span>
<span class="linenos">10</span><span class="k">import</span> <span class="p">{</span> <span class="nx">TwowaybindingComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./components/twowaybinding/twowaybinding.component&#39;</span><span class="p">;</span>
<span class="linenos">11</span><span class="k">import</span> <span class="p">{</span> <span class="nx">FormsModule</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/forms&#39;</span><span class="p">;</span> <span class="c1">// se importan los forms.</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="kd">@NgModule</span><span class="p">({</span>
<span class="linenos">14</span><span class="nx">declarations</span><span class="o">:</span> <span class="p">[</span>
<span class="linenos">15</span>    <span class="nx">AppComponent</span><span class="p">,</span>
<span class="linenos">16</span>    <span class="nx">MenuComponent</span><span class="p">,</span>
<span class="linenos">17</span>    <span class="nx">InterpolationComponent</span><span class="p">,</span>
<span class="linenos">18</span>    <span class="nx">PropertyBindingComponent</span><span class="p">,</span>
<span class="linenos">19</span>    <span class="nx">EventBindingComponent</span><span class="p">,</span>
<span class="linenos">20</span>    <span class="nx">SaludarComponent</span><span class="p">,</span>
<span class="linenos">21</span>    <span class="nx">TwowaybindingComponent</span>
<span class="linenos">22</span><span class="p">],</span>
<span class="linenos">23</span><span class="nx">imports</span><span class="o">:</span> <span class="p">[</span>
<span class="linenos">24</span>    <span class="nx">BrowserModule</span><span class="p">,</span>
<span class="linenos">25</span>    <span class="nx">FormsModule</span> <span class="c1">// se carga en los imports el modulo de forms para todos los componentes de app</span>
<span class="linenos">26</span><span class="p">],</span>
<span class="linenos">27</span><span class="nx">providers</span><span class="o">:</span> <span class="p">[],</span>
<span class="linenos">28</span><span class="nx">bootstrap</span><span class="o">:</span> <span class="p">[</span><span class="nx">AppComponent</span><span class="p">]</span>
<span class="linenos">29</span><span class="p">})</span>
<span class="linenos">30</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">AppModule</span> <span class="p">{</span> <span class="p">}</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Ahora pasamos al componente con el que se quiere trabajar:</p></li>
</ol>
<div class="highlight-Typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span>    <span class="kd">@Component</span><span class="p">({</span>
<span class="linenos"> 4</span>    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-twowaybinding&#39;</span><span class="p">,</span>
<span class="linenos"> 5</span>    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./twowaybinding.component.html&#39;</span><span class="p">,</span>
<span class="linenos"> 6</span>    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./twowaybinding.component.css&#39;</span><span class="p">]</span>
<span class="linenos"> 7</span>    <span class="p">})</span>
<span class="linenos"> 8</span>    <span class="k">export</span> <span class="kd">class</span> <span class="nx">TwowaybindingComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
<span class="linenos"> 9</span>    <span class="c1">// crear objeto donde se va a guardar los datos.</span>
<span class="linenos">10</span>    <span class="nx">consola</span>: <span class="kt">any</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">11</span>        <span class="nx">marca</span>: <span class="kt">null</span><span class="p">,</span>
<span class="linenos">12</span>        <span class="nx">modelo</span>: <span class="kt">null</span>
<span class="linenos">13</span>    <span class="p">}</span>
<span class="linenos">14</span>
<span class="linenos">15</span>    <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="linenos">16</span>
<span class="linenos">17</span>    <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">18</span>    <span class="p">}</span>
<span class="linenos">19</span>
<span class="linenos">20</span><span class="p">}</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Y por último se prepara el template:</p></li>
</ol>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>&lt;div class=&quot;card&quot;&gt;
<span class="linenos">2</span>    &lt;h1&gt;Datos consola&lt;/h1&gt;
<span class="linenos">3</span>    &lt;hr&gt;
<span class="linenos">4</span>    &lt;p&gt;Consola: {{consola.marca}} {{consola.modelo}}&lt;/p&gt;
<span class="linenos">5</span>    &lt;!-- se le pasa los campos con la directiva ngModel: --&gt;
<span class="linenos">6</span>    &lt;input type=&quot;text&quot; placeholder=&quot;marca&quot; [(ngModel)]=&quot;consola.marca&quot;&gt;
<span class="linenos">7</span>    &lt;input type=&quot;text&quot; placeholder=&quot;modelo&quot; [(ngModel)]=&quot;consola.modelo&quot;&gt;
<span class="linenos">8</span>&lt;/div&gt;
</pre></div>
</div>
</section>
</section>
<section id="ciclo-de-vida">
<h2><a class="toc-backref" href="#id29">Ciclo de vida</a><a class="headerlink" href="#ciclo-de-vida" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El ciclo de vida va en el siguiente orden:
* Constructor
* ngOnChanges
* ngOnInit
* ngDoCheck
* ngAfterContentInit
* ngAfterContentChecked
* ngAfterViewInit
* ngAfterViewChecked
* ngOnDestroy</p>
<section id="constructor-cargar-metodos-y-datos-que-construyen-la-aplicacion">
<h3><a class="toc-backref" href="#id30">Constructor - Cargar métodos y datos que construyen la aplicación</a><a class="headerlink" href="#constructor-cargar-metodos-y-datos-que-construyen-la-aplicacion" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La primera acción que se ejecuta en el componente es el constructor y es muy útil para
cargar la información antes de disparar cualquier evento como NgOnInit():</p>
<div class="highlight-Typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kd">@Component</span><span class="p">({</span>
<span class="linenos"> 4</span>    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-event-binding&#39;</span><span class="p">,</span>
<span class="linenos"> 5</span>    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./event-binding.component.html&#39;</span><span class="p">,</span>
<span class="linenos"> 6</span>    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./event-binding.component.css&#39;</span><span class="p">]</span>
<span class="linenos"> 7</span><span class="p">})</span>
<span class="linenos"> 8</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">EventBindingComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span>    <span class="c1">// se crea un elemento, si no se inicializa dará error el linter:</span>
<span class="linenos">11</span>    <span class="k">public</span> <span class="nx">hora</span>: <span class="kt">string</span><span class="p">;</span>
<span class="linenos">12</span>
<span class="linenos">13</span>    <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos">14</span>        <span class="c1">// establecemos la hora con el setHora:</span>
<span class="linenos">15</span>        <span class="k">this</span><span class="p">.</span><span class="nx">hora</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">setHora</span><span class="p">();</span>
<span class="linenos">16</span>    <span class="p">}</span>
<span class="linenos">17</span>
<span class="linenos">18</span>    <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">19</span>    <span class="p">}</span>
<span class="linenos">20</span>
<span class="linenos">21</span>    <span class="c1">// creamos un seteador para la hora:</span>
<span class="linenos">22</span>    <span class="nx">setHora</span><span class="p">()</span><span class="o">:</span> <span class="kt">string</span> <span class="p">{</span>
<span class="linenos">23</span>        <span class="c1">// recuperamos hora, minutos y segundos actuales:</span>
<span class="linenos">24</span>        <span class="kd">const</span> <span class="nx">hh</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;0&#39;</span> <span class="o">+</span> <span class="ow">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getHours</span><span class="p">()).</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mf">2</span><span class="p">);</span>
<span class="linenos">25</span>        <span class="kd">const</span> <span class="nx">mm</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;0&#39;</span> <span class="o">+</span> <span class="ow">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getHours</span><span class="p">()).</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mf">2</span><span class="p">);</span>
<span class="linenos">26</span>        <span class="kd">const</span> <span class="nx">ss</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;0&#39;</span> <span class="o">+</span> <span class="ow">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getHours</span><span class="p">()).</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mf">2</span><span class="p">);</span>
<span class="linenos">27</span>        <span class="c1">// cargamos el tiempo en hora:</span>
<span class="linenos">28</span>        <span class="k">return</span> <span class="nx">hh</span> <span class="o">+</span> <span class="s1">&#39;:&#39;</span> <span class="o">+</span> <span class="nx">mm</span> <span class="o">+</span> <span class="s1">&#39;:&#39;</span> <span class="o">+</span> <span class="nx">ss</span><span class="p">;</span>
<span class="linenos">29</span>    <span class="p">}</span>
<span class="linenos">30</span>
<span class="linenos">31</span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="ngoninit-cargar-metodo-cuando-se-inicialice-el-componente">
<h3><a class="toc-backref" href="#id31">ngOnInit() - Cargar método cuando se inicialice el componente</a><a class="headerlink" href="#ngoninit-cargar-metodo-cuando-se-inicialice-el-componente" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="highlight-Typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kd">@Component</span><span class="p">({</span>
<span class="linenos"> 4</span>    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-property-binding&#39;</span><span class="p">,</span>
<span class="linenos"> 5</span>    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./property-binding.component.html&#39;</span><span class="p">,</span>
<span class="linenos"> 6</span>    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./property-binding.component.css&#39;</span><span class="p">]</span>
<span class="linenos"> 7</span><span class="p">})</span>
<span class="linenos"> 8</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">PropertyBindingComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span>    <span class="nx">imagen</span>: <span class="kt">string</span> <span class="o">=</span> <span class="s1">&#39;/assets/img/prueba-imagen.jpg&#39;</span><span class="p">;</span>
<span class="linenos">11</span>
<span class="linenos">12</span>    <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="linenos">13</span>
<span class="linenos">14</span>    <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">15</span>        <span class="c1">// lo cargamos en el DOM al inicializar el componente para que se ejecute:</span>
<span class="linenos">16</span>        <span class="k">this</span><span class="p">.</span><span class="nx">cambiarImagen</span><span class="p">();</span>
<span class="linenos">17</span>    <span class="p">}</span>
<span class="linenos">18</span>
<span class="linenos">19</span>    <span class="c1">// crear metodo que cambia imagen:</span>
<span class="linenos">20</span>    <span class="nx">cambiarImagen</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">21</span>        <span class="kd">const</span> <span class="nx">logoRojo</span> <span class="o">=</span> <span class="s1">&#39;/assets/img/logo-rojo.jpg&#39;</span><span class="p">;</span>
<span class="linenos">22</span>        <span class="kd">const</span> <span class="nx">logoBlanco</span> <span class="o">=</span> <span class="s1">&#39;/assets/img/logo-blanco.jpg&#39;</span><span class="p">;</span>
<span class="linenos">23</span>        <span class="nx">setInterval</span><span class="p">(()=&gt;</span> <span class="p">{</span>
<span class="linenos">24</span>        <span class="k">this</span><span class="p">.</span><span class="nx">imagen</span> <span class="o">===</span> <span class="nx">logoRojo</span> <span class="o">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">imagen</span> <span class="o">=</span> <span class="nx">logoBlanco</span> : <span class="kt">this.imagen</span> <span class="o">=</span> <span class="nx">logoRojo</span><span class="p">;</span>
<span class="linenos">25</span>        <span class="p">},</span> <span class="mf">1000</span><span class="p">);</span>
<span class="linenos">26</span>    <span class="p">}</span>
<span class="linenos">27</span>
<span class="linenos">28</span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="ngaftercontentchecked-ejecutar-despues-de-que-se-refresque-un-componente">
<h3><a class="toc-backref" href="#id32">ngAfterContentChecked() - Ejecutar después de que se refresque un componente</a><a class="headerlink" href="#ngaftercontentchecked-ejecutar-despues-de-que-se-refresque-un-componente" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Este evento se dispará cuando angular refresca un componente permitiendo ejecutar métodos adicionales en el proceso.</p>
<ul class="simple">
<li><p>caso de ejemplo con un marcador cuyos jugadores se deben ordenar por los que más han encanastado:</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">Input</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kd">@Component</span><span class="p">({</span>
<span class="linenos"> 4</span>    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-top-score&#39;</span><span class="p">,</span>
<span class="linenos"> 5</span>    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./top-score.component.html&#39;</span><span class="p">,</span>
<span class="linenos"> 6</span>    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./top-score.component.css&#39;</span><span class="p">]</span>
<span class="linenos"> 7</span><span class="p">})</span>
<span class="linenos"> 8</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">TopScoreComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span>    <span class="kd">@Input</span><span class="p">()</span> <span class="nx">equipoLocal</span>: <span class="kt">any</span><span class="p">;</span>
<span class="linenos">11</span>    <span class="kd">@Input</span><span class="p">()</span> <span class="nx">equipoVisitante</span>: <span class="kt">any</span><span class="p">;</span>
<span class="linenos">12</span>
<span class="linenos">13</span>    <span class="nx">jugadores</span>: <span class="kt">any</span> <span class="o">=</span> <span class="p">[];</span>
<span class="linenos">14</span>
<span class="linenos">15</span>    <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="linenos">16</span>
<span class="linenos">17</span>    <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">18</span>        <span class="k">this</span><span class="p">.</span><span class="nx">jugadores</span> <span class="o">=</span> <span class="p">[...</span><span class="k">this</span><span class="p">.</span><span class="nx">equipoLocal</span><span class="p">.</span><span class="nx">jugadores</span><span class="p">,</span> <span class="p">...</span><span class="k">this</span><span class="p">.</span><span class="nx">equipoVisitante</span><span class="p">.</span><span class="nx">jugadores</span><span class="p">];</span>
<span class="linenos">19</span>    <span class="p">}</span>
<span class="linenos">20</span>
<span class="linenos">21</span>    <span class="c1">// hook para dispararse cada vez que haya cambios en los valores:</span>
<span class="linenos">22</span>    <span class="nx">ngAfterContentChecked</span><span class="p">(){</span>
<span class="linenos">23</span>        <span class="k">this</span><span class="p">.</span><span class="nx">sortJugadores</span><span class="p">();</span>
<span class="linenos">24</span>    <span class="p">}</span>
<span class="linenos">25</span>
<span class="linenos">26</span>    <span class="nx">sortJugadores</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos">27</span>        <span class="k">this</span><span class="p">.</span><span class="nx">jugadores</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span> <span class="p">(</span><span class="nx">a</span>: <span class="kt">any</span><span class="p">,</span> <span class="nx">b</span>: <span class="kt">any</span><span class="p">)=&gt;</span> <span class="p">{</span>
<span class="linenos">28</span>        <span class="k">return</span> <span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">puntos</span> <span class="o">-</span> <span class="nx">a</span><span class="p">.</span><span class="nx">puntos</span><span class="p">);</span>
<span class="linenos">29</span>        <span class="p">}</span> <span class="p">);</span>
<span class="linenos">30</span>    <span class="p">}</span>
<span class="linenos">31</span><span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="pipes">
<h2><a class="toc-backref" href="#id33">Pipes</a><a class="headerlink" href="#pipes" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El pipe permite formatear valores que vienen del componente.</p>
<section id="pipes-de-texto">
<h3><a class="toc-backref" href="#id34">Pipes de texto</a><a class="headerlink" href="#pipes-de-texto" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Tenemos un atributo texto en el componente:</p></li>
</ul>
<div class="highlight-Typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kd">@Component</span><span class="p">({</span>
<span class="linenos"> 4</span>    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-pipes-angular&#39;</span><span class="p">,</span>
<span class="linenos"> 5</span>    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./pipes-angular.component.html&#39;</span><span class="p">,</span>
<span class="linenos"> 6</span>    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./pipes-angular.component.css&#39;</span><span class="p">]</span>
<span class="linenos"> 7</span><span class="p">})</span>
<span class="linenos"> 8</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">PipesAngularComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
<span class="linenos"> 9</span>    <span class="c1">// se crean un atributo con datos:</span>
<span class="linenos">10</span>    <span class="nx">texto</span>: <span class="kt">string</span> <span class="o">=</span> <span class="s1">&#39;La mejor consola es la Switch&#39;</span>
<span class="linenos">11</span>
<span class="linenos">12</span>    <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="linenos">13</span>
<span class="linenos">14</span>    <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">15</span>    <span class="p">}</span>
<span class="linenos">16</span>
<span class="linenos">17</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>En el template vamos a ver los pipes:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;card&quot;</span><span class="p">&gt;</span>
<span class="linenos"> 2</span>    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Pipes de texto<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="linenos"> 3</span>    <span class="p">&lt;</span><span class="nt">table</span> <span class="na">border</span><span class="o">=</span><span class="s">1</span><span class="p">&gt;</span>
<span class="linenos"> 4</span>        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="linenos"> 5</span>            <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Nombre<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
<span class="linenos"> 6</span>            <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Valor sin pipe<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
<span class="linenos"> 7</span>            <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Valor con pipe<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
<span class="linenos"> 8</span>            <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Descripción<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
<span class="linenos"> 9</span>        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="linenos">10</span>        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="linenos">11</span>            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Uppercase<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">12</span>            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>{{ texto }}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">13</span>            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>{{ texto|uppercase }}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">14</span>            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Todas las letras a mayúsculas<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">15</span>        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="linenos">16</span>        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="linenos">17</span>            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Lowercase<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">18</span>            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>{{ texto }}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">19</span>            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>{{ texto|lowercase }}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">20</span>            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Todas las letras a minúsculas<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">21</span>        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="linenos">22</span>        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="linenos">23</span>            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Titlecase<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">24</span>            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>{{ texto }}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">25</span>            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>{{ texto|titlecase }}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">26</span>            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>todas las primeras letras a mayúsculas<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">27</span>        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="linenos">28</span>    <span class="p">&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>
<span class="linenos">29</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
<section id="pipes-de-formato-y-fecha">
<h3><a class="toc-backref" href="#id35">Pipes de formato y fecha</a><a class="headerlink" href="#pipes-de-formato-y-fecha" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Tenemos los siguientes atributos:</p></li>
</ul>
<div class="highlight-Typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kd">@Component</span><span class="p">({</span>
<span class="linenos"> 4</span>    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-pipes-angular&#39;</span><span class="p">,</span>
<span class="linenos"> 5</span>    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./pipes-angular.component.html&#39;</span><span class="p">,</span>
<span class="linenos"> 6</span>    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./pipes-angular.component.css&#39;</span><span class="p">]</span>
<span class="linenos"> 7</span><span class="p">})</span>
<span class="linenos"> 8</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">PipesAngularComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
<span class="linenos"> 9</span>    <span class="c1">// se crea un atributo de tipo mixto:</span>
<span class="linenos">10</span>    <span class="nx">id</span>: <span class="kt">any</span> <span class="o">=</span> <span class="mf">11</span><span class="p">;</span>
<span class="linenos">11</span>    <span class="c1">// también creamos una fecha:</span>
<span class="linenos">12</span>    <span class="nx">fecha</span>: <span class="kt">Date</span> <span class="o">=</span> <span class="ow">new</span> <span class="nb">Date</span><span class="p">();</span>
<span class="linenos">13</span>
<span class="linenos">14</span>    <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos">15</span>        <span class="c1">// ahora se combina con una nomenclatura:</span>
<span class="linenos">16</span>        <span class="k">this</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="s1">&#39;000&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>
<span class="linenos">17</span>    <span class="p">}</span>
<span class="linenos">18</span>
<span class="linenos">19</span>    <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">20</span>
<span class="linenos">21</span>    <span class="p">}</span>
<span class="linenos">22</span>
<span class="linenos">23</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Y estos son los pypes:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;card&quot;</span><span class="p">&gt;</span>
<span class="linenos"> 2</span>    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Pipes de formato y fecha<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="linenos"> 3</span>    <span class="p">&lt;</span><span class="nt">table</span> <span class="na">border</span><span class="o">=</span><span class="s">1</span><span class="p">&gt;</span>
<span class="linenos"> 4</span>        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="linenos"> 5</span>            <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Nombre<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
<span class="linenos"> 6</span>            <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Valor sin pipe<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
<span class="linenos"> 7</span>            <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Valor con pipe<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
<span class="linenos"> 8</span>            <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Descripción<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
<span class="linenos"> 9</span>        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="linenos">10</span>        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="linenos">11</span>        <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Slice<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">12</span>        <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>{{ id }}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">13</span>        <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>{{ id|slice: -3 }}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">14</span>        <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Corta un número de caracteres<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">15</span>        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="linenos">16</span>        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="linenos">17</span>        <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Date<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">18</span>        <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>{{ fecha }}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">19</span>        <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>{{ fecha|date: &#39;dd/MM/yyyy hh:mm&#39; }}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">20</span>        <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Formatea una fecha, también disponible opciones: &quot;long&quot;, &quot;medium&quot;, &quot;short&quot;<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">21</span>        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="linenos">22</span>    <span class="p">&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>
<span class="linenos">23</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
<section id="pipes-numericos">
<h3><a class="toc-backref" href="#id36">Pipes núméricos</a><a class="headerlink" href="#pipes-numericos" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Estos son los atributos a modificar:</p></li>
</ul>
<div class="highlight-Typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kd">@Component</span><span class="p">({</span>
<span class="linenos"> 4</span>    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-pipes-angular&#39;</span><span class="p">,</span>
<span class="linenos"> 5</span>    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./pipes-angular.component.html&#39;</span><span class="p">,</span>
<span class="linenos"> 6</span>    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./pipes-angular.component.css&#39;</span><span class="p">]</span>
<span class="linenos"> 7</span><span class="p">})</span>
<span class="linenos"> 8</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">PipesAngularComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
<span class="linenos"> 9</span>    <span class="c1">// se crea un atributo numérico:</span>
<span class="linenos">10</span>    <span class="nx">importe</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mf">1927.327823</span><span class="p">;</span>
<span class="linenos">11</span>
<span class="linenos">12</span>    <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos">13</span>    <span class="p">}</span>
<span class="linenos">14</span>
<span class="linenos">15</span>    <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">16</span>
<span class="linenos">17</span>    <span class="p">}</span>
<span class="linenos">18</span>
<span class="linenos">19</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Veamos los pipes numéricos:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;card&quot;</span><span class="p">&gt;</span>
<span class="linenos"> 2</span>    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Pipes Numéricos<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="linenos"> 3</span>    <span class="p">&lt;</span><span class="nt">table</span> <span class="na">border</span><span class="o">=</span><span class="s">1</span><span class="p">&gt;</span>
<span class="linenos"> 4</span>        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="linenos"> 5</span>            <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Nombre<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
<span class="linenos"> 6</span>            <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Valor sin pipe<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
<span class="linenos"> 7</span>            <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Valor con pipe<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
<span class="linenos"> 8</span>            <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Descripción<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
<span class="linenos"> 9</span>        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="linenos">10</span>        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="linenos">11</span>        <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Decimal<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">12</span>        <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>{{ importe }}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">13</span>        <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>{{ importe|number: &quot;5.2-2&quot; }}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">14</span>        <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Establece la cantidad de números mínimos de enteros y los decimales<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">15</span>        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="linenos">16</span>        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="linenos">17</span>        <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Currency<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">18</span>        <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>{{ importe }}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">19</span>        <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>{{ importe|currency: &quot;€&quot; }}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">20</span>        <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Trabaja con divisas, por defecto $ pero se puede cambiar por otro<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="linenos">21</span>        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="linenos">22</span>    <span class="p">&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>
<span class="linenos">23</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
<section id="crear-un-pipe">
<h3><a class="toc-backref" href="#id37">Crear un pipe</a><a class="headerlink" href="#crear-un-pipe" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Para crear un Pipe se utiliza el comando: <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">generate</span> <span class="pre">pipe</span> <span class="pre">nombrePipe</span></code></p></li>
<li><p>Generar un pipe en una carpeta: <a href="#id1"><span class="problematic" id="id2">``</span></a>ng generate pipe pipes/nombrePipe</p></li>
<li><p>Editar el pipe:</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Pipe</span><span class="p">,</span> <span class="nx">PipeTransform</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kd">@Pipe</span><span class="p">({</span>
<span class="linenos"> 4</span>    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;nombrePipe&#39;</span>
<span class="linenos"> 5</span><span class="p">})</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">NombrePipePipe</span> <span class="k">implements</span> <span class="nx">PipeTransform</span> <span class="p">{</span>
<span class="linenos"> 8</span>    <span class="c1">// el metodo transform recibe siempre el value y luego podemos definir el tipo de dato que retorna:</span>
<span class="linenos"> 9</span>    <span class="nx">transform</span><span class="p">(</span><span class="nx">value</span>: <span class="kt">number</span><span class="p">,</span> <span class="nx">decimales</span>: <span class="kt">number</span><span class="p">,</span> <span class="nx">moneda?</span>: <span class="kt">string</span><span class="p">)</span><span class="o">:</span> <span class="kt">number</span> <span class="o">|</span> <span class="kt">string</span> <span class="p">{</span> <span class="c1">// se puede poner el parametro opcional ?</span>
<span class="linenos">10</span>        <span class="c1">// vamos a hacer un redondeo:</span>
<span class="linenos">11</span>        <span class="kd">const</span> <span class="nx">factor</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mf">10</span><span class="p">,</span><span class="nx">decimales</span><span class="p">);</span>
<span class="linenos">12</span>
<span class="linenos">13</span>        <span class="kd">let</span> <span class="nx">valorRedondeado</span><span class="p">;</span>
<span class="linenos">14</span>        <span class="k">if</span><span class="p">(</span><span class="nx">value</span> <span class="o">&gt;=</span> <span class="mf">0</span><span class="p">){</span>
<span class="linenos">15</span>        <span class="nx">valorRedondeado</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">value</span> <span class="o">*</span> <span class="nx">factor</span><span class="p">)</span> <span class="o">/</span> <span class="nx">factor</span><span class="p">;</span>
<span class="linenos">16</span>        <span class="p">}</span><span class="k">else</span><span class="p">{</span>
<span class="linenos">17</span>        <span class="nx">valorRedondeado</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="o">-</span><span class="nx">value</span> <span class="o">*</span> <span class="nx">factor</span><span class="p">)</span> <span class="o">/</span> <span class="nx">factor</span><span class="p">;</span>
<span class="linenos">18</span>        <span class="p">}</span>
<span class="linenos">19</span>        <span class="c1">// formatear el valor numérico similar al nuestro:</span>
<span class="linenos">20</span>        <span class="kd">let</span> <span class="nx">valorFormateado</span> <span class="o">=</span> <span class="ow">new</span> <span class="nb">Intl</span><span class="p">.</span><span class="nx">NumberFormat</span><span class="p">(</span><span class="s1">&#39;de-DE&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">minimumFractionDigits</span>: <span class="kt">decimales</span><span class="p">}).</span><span class="nx">format</span><span class="p">(</span><span class="nx">valorRedondeado</span><span class="p">);</span>
<span class="linenos">21</span>
<span class="linenos">22</span>        <span class="k">return</span> <span class="nx">moneda</span> <span class="o">?</span> <span class="nx">valorFormateado</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="nx">moneda</span> : <span class="kt">valorFormateado</span><span class="p">;</span>
<span class="linenos">23</span>    <span class="p">}</span>
<span class="linenos">24</span>
<span class="linenos">25</span><span class="p">}</span>
</pre></div>
</div>
<p>Ahora esto se utiliza en un número decimal del template <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">number|nombrePipe:2</span> <span class="pre">}}</span></code> o con una moneda <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">number|nombrePipe:2:'€'</span> <span class="pre">}}</span></code> y lo redondeará a un entero.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Los args son opcionales, se puede utilizar el método transform solo con el parametro value.</p>
</div>
</section>
</section>
<section id="directivas-angular">
<h2><a class="toc-backref" href="#id38">Directivas angular</a><a class="headerlink" href="#directivas-angular" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Las directivas sirven para controlar el comportamiento de la información desde el template.</p>
<div class="admonition attention">
<p class="admonition-title">Atención</p>
<p>cuando se utilizan números en las cadenas estos se escriben <code class="docutils literal notranslate"><span class="pre">*ngSwitchCase=&quot;20&quot;</span></code>, si son cadenas <code class="docutils literal notranslate"><span class="pre">*ngSwitchCase=&quot;'hola'&quot;</span></code> y si son atributos <code class="docutils literal notranslate"><span class="pre">*ngSwitchCase=&quot;atributo&quot;</span></code></p>
</div>
<section id="directivas-de-control">
<h3><a class="toc-backref" href="#id39">Directivas de control</a><a class="headerlink" href="#directivas-de-control" title="Enlazar permanentemente con este título">¶</a></h3>
<section id="condicional-if-ngif">
<h4><a class="toc-backref" href="#id40">Condicional if (<a href="#id3"><span class="problematic" id="id4">*</span></a>ngIf)</a><a class="headerlink" href="#condicional-if-ngif" title="Enlazar permanentemente con este título">¶</a></h4>
<ul class="simple">
<li><p>Creamos un atributo edad en el componente:</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kd">@Component</span><span class="p">({</span>
<span class="linenos"> 4</span>    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-directiva-if&#39;</span><span class="p">,</span>
<span class="linenos"> 5</span>    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./directiva-if.component.html&#39;</span><span class="p">,</span>
<span class="linenos"> 6</span>    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./directiva-if.component.css&#39;</span><span class="p">]</span>
<span class="linenos"> 7</span><span class="p">})</span>
<span class="linenos"> 8</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">DirectivaIfComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
<span class="linenos"> 9</span>    <span class="c1">// ponemos una edad:</span>
<span class="linenos">10</span>    <span class="k">public</span> <span class="nx">edad</span>: <span class="kt">number</span><span class="p">;</span>
<span class="linenos">11</span>
<span class="linenos">12</span>    <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos">13</span>        <span class="c1">// inicializamos la edad:</span>
<span class="linenos">14</span>        <span class="k">this</span><span class="p">.</span><span class="nx">edad</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span>
<span class="linenos">15</span>    <span class="p">}</span>
<span class="linenos">16</span>
<span class="linenos">17</span>    <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">18</span>    <span class="p">}</span>
<span class="linenos">19</span>
<span class="linenos">20</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>En el template veremos el <a href="#id5"><span class="problematic" id="id6">*</span></a>ngIf:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>&lt;div class=&quot;row&quot;&gt;
<span class="linenos"> 2</span>    &lt;h1&gt;ngIf&lt;/h1&gt;
<span class="linenos"> 3</span>    &lt;input type=&quot;number&quot; [(ngModel)]=&quot;edad&quot;&gt;
<span class="linenos"> 4</span>    &lt;p&gt;Tienes {{ edad }} años.&lt;/p&gt;
<span class="linenos"> 5</span>    &lt;!-- Establecer if: --&gt;
<span class="linenos"> 6</span>    &lt;p *ngIf=&quot;edad &gt;=18; else menor&quot;&gt;Eres mayor de edad&lt;/p&gt;
<span class="linenos"> 7</span>    &lt;!-- para el else usamos un ng-tempalte: --&gt;
<span class="linenos"> 8</span>    &lt;ng-template #menor&gt;
<span class="linenos"> 9</span>        &lt;p&gt;Eres menor de edad&lt;/p&gt;
<span class="linenos">10</span>    &lt;/ng-template&gt;
<span class="linenos">11</span>&lt;/div&gt;
</pre></div>
</div>
</section>
<section id="condicional-switch-ngswitch">
<h4><a class="toc-backref" href="#id41">Condicional Switch (<a href="#id7"><span class="problematic" id="id8">*</span></a>ngSwitch)</a><a class="headerlink" href="#condicional-switch-ngswitch" title="Enlazar permanentemente con este título">¶</a></h4>
<ul class="simple">
<li><p>Tenemos una edad en el componente igual al ejemplo anterior.</p></li>
<li><p>En el template veremos <a href="#id9"><span class="problematic" id="id10">*</span></a>ngSwitch:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>&lt;div class=&quot;row&quot;&gt;
<span class="linenos"> 2</span>    &lt;h1&gt;ngIf&lt;/h1&gt;
<span class="linenos"> 3</span>    &lt;input type=&quot;number&quot; [(ngModel)]=&quot;edad&quot;&gt;
<span class="linenos"> 4</span>    &lt;p&gt;Tienes {{ edad }} años.&lt;/p&gt;
<span class="linenos"> 5</span>    &lt;!-- Establecer switch: --&gt;
<span class="linenos"> 6</span>    &lt;div [ngSwitch]=&quot;edad&quot;&gt;
<span class="linenos"> 7</span>        &lt;p *ngSwitchCase=&quot;18&quot;&gt;Ya eres mayor de edad!&lt;/p&gt;
<span class="linenos"> 8</span>        &lt;p *ngSwitchCase=&quot;65&quot;&gt;Ya eres un anciano!&lt;/p&gt;
<span class="linenos"> 9</span>    &lt;/div&gt;
<span class="linenos">10</span>&lt;/div&gt;
</pre></div>
</div>
</section>
<section id="condicional-for-ngfor">
<h4><a class="toc-backref" href="#id42">Condicional For (<a href="#id11"><span class="problematic" id="id12">*</span></a>ngFor)</a><a class="headerlink" href="#condicional-for-ngfor" title="Enlazar permanentemente con este título">¶</a></h4>
<ul class="simple">
<li><p>Creamos una lista de elementos en el componente:</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kd">@Component</span><span class="p">({</span>
<span class="linenos"> 4</span>    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-directiva-for&#39;</span><span class="p">,</span>
<span class="linenos"> 5</span>    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./directiva-for.component.html&#39;</span><span class="p">,</span>
<span class="linenos"> 6</span>    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./directiva-for.component.css&#39;</span><span class="p">]</span>
<span class="linenos"> 7</span><span class="p">})</span>
<span class="linenos"> 8</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">DirectivaForComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
<span class="linenos"> 9</span>    <span class="c1">// crear colección:</span>
<span class="linenos">10</span>    <span class="nx">consolas</span>: <span class="kt">Array</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span><span class="p">;</span>
<span class="linenos">11</span>
<span class="linenos">12</span>    <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos">13</span>        <span class="c1">// harcodear datos:</span>
<span class="linenos">14</span>        <span class="k">this</span><span class="p">.</span><span class="nx">consolas</span> <span class="o">=</span> <span class="p">[</span>
<span class="linenos">15</span>        <span class="p">{</span><span class="nx">marca</span><span class="o">:</span> <span class="s1">&#39;Sony&#39;</span><span class="p">,</span> <span class="nx">modelo</span><span class="o">:</span> <span class="s1">&#39;Playstation&#39;</span><span class="p">,</span> <span class="nx">lanzamiento</span>: <span class="kt">1995</span><span class="p">},</span>
<span class="linenos">16</span>        <span class="p">{</span><span class="nx">marca</span><span class="o">:</span> <span class="s1">&#39;Sega&#39;</span><span class="p">,</span> <span class="nx">modelo</span><span class="o">:</span> <span class="s1">&#39;Dreamcast&#39;</span><span class="p">,</span> <span class="nx">lanzamiento</span>: <span class="kt">1998</span><span class="p">},</span>
<span class="linenos">17</span>        <span class="p">{</span><span class="nx">marca</span><span class="o">:</span> <span class="s1">&#39;Nintendo&#39;</span><span class="p">,</span> <span class="nx">modelo</span><span class="o">:</span> <span class="s1">&#39;Gameboy&#39;</span><span class="p">,</span> <span class="nx">lanzamiento</span>: <span class="kt">1989</span><span class="p">},</span>
<span class="linenos">18</span>        <span class="p">{</span><span class="nx">marca</span><span class="o">:</span> <span class="s1">&#39;Nintendo&#39;</span><span class="p">,</span> <span class="nx">modelo</span><span class="o">:</span> <span class="s1">&#39;Gamecube&#39;</span><span class="p">,</span> <span class="nx">lanzamiento</span>: <span class="kt">2002</span><span class="p">},</span>
<span class="linenos">19</span>        <span class="p">{</span><span class="nx">marca</span><span class="o">:</span> <span class="s1">&#39;Sony&#39;</span><span class="p">,</span> <span class="nx">modelo</span><span class="o">:</span> <span class="s1">&#39;Playstation 2&#39;</span><span class="p">,</span> <span class="nx">lanzamiento</span>: <span class="kt">2001</span><span class="p">}</span>
<span class="linenos">20</span>        <span class="p">]</span>
<span class="linenos">21</span>    <span class="p">}</span>
<span class="linenos">22</span>
<span class="linenos">23</span>    <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">24</span>    <span class="p">}</span>
<span class="linenos">25</span>
<span class="linenos">26</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Cargar listado en el template:</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Una cosa interesante es que cuando se producen cambios en la información del componente esto se actualizan en la vista automáticamente sin hacer nada.</p>
</div>
</section>
</section>
<section id="directivas-de-atributos">
<h3><a class="toc-backref" href="#id43">Directivas de atributos</a><a class="headerlink" href="#directivas-de-atributos" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Las directivas de atributos al igual que los atributos dinámicos [src], [value], etc… permiten asignar un valor que proviene del componente como el
nombre de una clase o el valor de un estilo css.</p>
<section id="implementar-clase-ngclass">
<h4><a class="toc-backref" href="#id44">Implementar clase ngClass</a><a class="headerlink" href="#implementar-clase-ngclass" title="Enlazar permanentemente con este título">¶</a></h4>
<ul class="simple">
<li><p>Tenemos el listado de consolas en el componente:</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kd">@Component</span><span class="p">({</span>
<span class="linenos"> 4</span>    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-clases&#39;</span><span class="p">,</span>
<span class="linenos"> 5</span>    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./clases.component.html&#39;</span><span class="p">,</span>
<span class="linenos"> 6</span>    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./clases.component.css&#39;</span><span class="p">]</span>
<span class="linenos"> 7</span><span class="p">})</span>
<span class="linenos"> 8</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">ClasesComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span>    <span class="nx">consolas</span>: <span class="kt">Array</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span><span class="p">;</span>
<span class="linenos">11</span>
<span class="linenos">12</span>    <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos">13</span>        <span class="c1">// harcodear datos:</span>
<span class="linenos">14</span>        <span class="k">this</span><span class="p">.</span><span class="nx">consolas</span> <span class="o">=</span> <span class="p">[</span>
<span class="linenos">15</span>        <span class="p">{</span><span class="nx">marca</span><span class="o">:</span> <span class="s1">&#39;Sony&#39;</span><span class="p">,</span> <span class="nx">modelo</span><span class="o">:</span> <span class="s1">&#39;Playstation&#39;</span><span class="p">,</span> <span class="nx">lanzamiento</span>: <span class="kt">1995</span><span class="p">},</span>
<span class="linenos">16</span>        <span class="p">{</span><span class="nx">marca</span><span class="o">:</span> <span class="s1">&#39;Sega&#39;</span><span class="p">,</span> <span class="nx">modelo</span><span class="o">:</span> <span class="s1">&#39;Dreamcast&#39;</span><span class="p">,</span> <span class="nx">lanzamiento</span>: <span class="kt">1998</span><span class="p">},</span>
<span class="linenos">17</span>        <span class="p">{</span><span class="nx">marca</span><span class="o">:</span> <span class="s1">&#39;Nintendo&#39;</span><span class="p">,</span> <span class="nx">modelo</span><span class="o">:</span> <span class="s1">&#39;Gameboy&#39;</span><span class="p">,</span> <span class="nx">lanzamiento</span>: <span class="kt">1989</span><span class="p">},</span>
<span class="linenos">18</span>        <span class="p">{</span><span class="nx">marca</span><span class="o">:</span> <span class="s1">&#39;Nintendo&#39;</span><span class="p">,</span> <span class="nx">modelo</span><span class="o">:</span> <span class="s1">&#39;Gamecube&#39;</span><span class="p">,</span> <span class="nx">lanzamiento</span>: <span class="kt">2002</span><span class="p">},</span>
<span class="linenos">19</span>        <span class="p">{</span><span class="nx">marca</span><span class="o">:</span> <span class="s1">&#39;Sony&#39;</span><span class="p">,</span> <span class="nx">modelo</span><span class="o">:</span> <span class="s1">&#39;Playstation 2&#39;</span><span class="p">,</span> <span class="nx">lanzamiento</span>: <span class="kt">2001</span><span class="p">}</span>
<span class="linenos">20</span>        <span class="p">]</span>
<span class="linenos">21</span>    <span class="p">}</span>
<span class="linenos">22</span>
<span class="linenos">23</span>    <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">24</span>    <span class="p">}</span>
<span class="linenos">25</span>
<span class="linenos">26</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>En el css se crean unas clases con los nombres de las marcas:</p></li>
</ul>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="p">.</span><span class="nc">Sony</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 2</span><span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="kc">gray</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 3</span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="p">.</span><span class="nc">Sega</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 6</span><span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="kc">blue</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 7</span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="p">.</span><span class="nc">Nintendo</span><span class="p">{</span><span class="w"></span>
<span class="linenos">10</span><span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="kc">red</span><span class="p">;</span><span class="w"></span>
<span class="linenos">11</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<ul class="simple">
<li><p>Ahora en el template se implementan las clases según su marca:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>&lt;div class=&quot;card&quot;&gt;
<span class="linenos"> 2</span>
<span class="linenos"> 3</span>&lt;table border=1&gt;
<span class="linenos"> 4</span>    &lt;tr&gt;
<span class="linenos"> 5</span>        &lt;th&gt;ID&lt;/th&gt;
<span class="linenos"> 6</span>        &lt;th&gt;Consola&lt;/th&gt;
<span class="linenos"> 7</span>        &lt;th&gt;Marca&lt;/th&gt;
<span class="linenos"> 8</span>        &lt;th&gt;Lanzamiento&lt;/th&gt;
<span class="linenos"> 9</span>    &lt;/tr&gt;
<span class="linenos">10</span>    &lt;tr *ngFor=&quot;let consola of consolas; let i = index&quot;&gt;
<span class="linenos">11</span>        &lt;!-- ngClass recibe un atributo que compara con el nombre de una clase css --&gt;
<span class="linenos">12</span>        &lt;td [ngClass]=&quot;consola.marca&quot;&gt;{{ i + 1 }}&lt;/td&gt;
<span class="linenos">13</span>        &lt;td [ngClass]=&quot;consola.marca&quot;&gt;{{ consola.modelo }}&lt;/td&gt;
<span class="linenos">14</span>        &lt;td [ngClass]=&quot;consola.marca&quot;&gt;{{ consola.marca }}&lt;/td&gt;
<span class="linenos">15</span>        &lt;td [ngClass]=&quot;consola.marca&quot;&gt;{{ consola.lanzamiento }}&lt;/td&gt;
<span class="linenos">16</span>    &lt;/tr&gt;
<span class="linenos">17</span>&lt;/table&gt;
<span class="linenos">18</span>&lt;/div&gt;
</pre></div>
</div>
</section>
<section id="implementar-estilo-ngstyle">
<h4><a class="toc-backref" href="#id45">Implementar estilo ngStyle</a><a class="headerlink" href="#implementar-estilo-ngstyle" title="Enlazar permanentemente con este título">¶</a></h4>
<ul class="simple">
<li><p>En primer lugar añadimos un atributo edad y un método que defina los colores:</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kd">@Component</span><span class="p">({</span>
<span class="linenos"> 4</span>    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-clases&#39;</span><span class="p">,</span>
<span class="linenos"> 5</span>    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./clases.component.html&#39;</span><span class="p">,</span>
<span class="linenos"> 6</span>    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./clases.component.css&#39;</span><span class="p">]</span>
<span class="linenos"> 7</span><span class="p">})</span>
<span class="linenos"> 8</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">ClasesComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span>    <span class="nx">edad</span>: <span class="kt">number</span><span class="p">;</span>
<span class="linenos">11</span>
<span class="linenos">12</span>    <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos">13</span>        <span class="k">this</span><span class="p">.</span><span class="nx">edad</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span>
<span class="linenos">14</span>    <span class="p">}</span>
<span class="linenos">15</span>
<span class="linenos">16</span>    <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">17</span>    <span class="p">}</span>
<span class="linenos">18</span>
<span class="linenos">19</span>    <span class="c1">// vamos a crear un método para recuperar el color:</span>
<span class="linenos">20</span>    <span class="nx">getColor</span><span class="p">(){</span>
<span class="linenos">21</span>        <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">edad</span> <span class="o">&lt;</span> <span class="mf">18</span><span class="p">){</span>
<span class="linenos">22</span>        <span class="k">return</span> <span class="s2">&quot;red&quot;</span><span class="p">;</span>
<span class="linenos">23</span>        <span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">edad</span> <span class="o">&gt;=</span> <span class="mf">18</span><span class="p">){</span>
<span class="linenos">24</span>        <span class="k">return</span> <span class="s2">&quot;green&quot;</span><span class="p">;</span>
<span class="linenos">25</span>        <span class="p">}</span><span class="k">else</span><span class="p">{</span>
<span class="linenos">26</span>        <span class="k">return</span> <span class="s2">&quot;blue&quot;</span><span class="p">;</span>
<span class="linenos">27</span>        <span class="p">}</span>
<span class="linenos">28</span>    <span class="p">}</span>
<span class="linenos">29</span>
<span class="linenos">30</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>En el template se implementa la directiva:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>&lt;div class=&quot;row&quot;&gt;
<span class="linenos"> 2</span>    &lt;input type=&quot;number&quot; [(ngModel)]=&quot;edad&quot;&gt;
<span class="linenos"> 3</span>    &lt;p&gt;Tienes {{ edad }} años.&lt;/p&gt;
<span class="linenos"> 4</span>    &lt;!-- Establecer switch: --&gt;
<span class="linenos"> 5</span>    &lt;p *ngIf=&quot;edad &gt;=18; else menor&quot; [ngStyle]=&quot;{&#39;color&#39;: getColor()}&quot;&gt;Eres mayor de edad&lt;/p&gt;
<span class="linenos"> 6</span>    &lt;!-- para el else usamos un ng-tempalte: --&gt;
<span class="linenos"> 7</span>    &lt;ng-template #menor&gt;
<span class="linenos"> 8</span>        &lt;p [ngStyle]=&quot;{&#39;color&#39;: getColor()}&quot;&gt;Eres menor de edad&lt;/p&gt;
<span class="linenos"> 9</span>    &lt;/ng-template&gt;
<span class="linenos">10</span>&lt;/div&gt;
</pre></div>
</div>
</section>
</section>
</section>
<section id="jerarquia-de-componentes">
<h2><a class="toc-backref" href="#id46">Jerarquía de componentes</a><a class="headerlink" href="#jerarquia-de-componentes" title="Enlazar permanentemente con este título">¶</a></h2>
<section id="enviar-valores-de-padre-a-hijo">
<h3><a class="toc-backref" href="#id47">Enviar valores de padre a hijo</a><a class="headerlink" href="#enviar-valores-de-padre-a-hijo" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>El componente padre tiene un valor:</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kd">@Component</span><span class="p">({</span>
<span class="linenos"> 4</span>    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-padre&#39;</span><span class="p">,</span>
<span class="linenos"> 5</span>    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./padre.component.html&#39;</span><span class="p">,</span>
<span class="linenos"> 6</span>    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./padre.component.css&#39;</span><span class="p">]</span>
<span class="linenos"> 7</span><span class="p">})</span>
<span class="linenos"> 8</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">PadreComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
<span class="linenos"> 9</span>    <span class="c1">// tenemos un valor en el padre:</span>
<span class="linenos">10</span>    <span class="nx">numeroPadre</span> : <span class="kt">number</span><span class="p">;</span>
<span class="linenos">11</span>
<span class="linenos">12</span>    <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos">13</span>        <span class="c1">// al que se le asigna un número:</span>
<span class="linenos">14</span>        <span class="k">this</span><span class="p">.</span><span class="nx">numeroPadre</span> <span class="o">=</span> <span class="mf">30</span><span class="p">;</span>
<span class="linenos">15</span>
<span class="linenos">16</span>    <span class="p">}</span>
<span class="linenos">17</span>
<span class="linenos">18</span>    <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">19</span>    <span class="p">}</span>
<span class="linenos">20</span>
<span class="linenos">21</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>El padre envía a través del selector del hijo el atributo numeroPadre:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>&lt;div class=&quot;card&quot;&gt;
<span class="linenos">2</span>    &lt;h2&gt;Componente padre&lt;/h2&gt;
<span class="linenos">3</span>    &lt;p&gt;Valor número padre: {{ numeroPadre }}&lt;/p&gt;
<span class="linenos">4</span>    &lt;app-hijo [numeroHijo]=&quot;numeroPadre&quot;&gt;&lt;/app-hijo&gt;
<span class="linenos">5</span>&lt;/div&gt;
</pre></div>
</div>
<ul class="simple">
<li><p>El hijo se prepara en el componente para recibir valores del padre:</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">// se importa input:</span>
<span class="linenos"> 2</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span><span class="p">,</span> <span class="nx">Input</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="kd">@Component</span><span class="p">({</span>
<span class="linenos"> 5</span>    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-hijo&#39;</span><span class="p">,</span>
<span class="linenos"> 6</span>    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./hijo.component.html&#39;</span><span class="p">,</span>
<span class="linenos"> 7</span>    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./hijo.component.css&#39;</span><span class="p">]</span>
<span class="linenos"> 8</span><span class="p">})</span>
<span class="linenos"> 9</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">HijoComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
<span class="linenos">10</span>    <span class="c1">// con el decorador Input se prepara el atributo para recibir los datos:</span>
<span class="linenos">11</span>    <span class="kd">@Input</span><span class="p">()</span> <span class="nx">numeroHijo</span> : <span class="kt">number</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span>
<span class="linenos">12</span>
<span class="linenos">13</span>    <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="linenos">14</span>
<span class="linenos">15</span>    <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">16</span>    <span class="p">}</span>
<span class="linenos">17</span>
<span class="linenos">18</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Ahora se puede utilizar el atributo numeroHijo con los datos del padre:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;card&quot;</span><span class="p">&gt;</span>
<span class="linenos">2</span>    <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Componente hijo<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
<span class="linenos">3</span>    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Valor número hijo: {{ numeroHijo }}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="linenos">4</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
<section id="enviar-valores-de-hijo-a-padre">
<h3><a class="toc-backref" href="#id48">Enviar valores de hijo a padre</a><a class="headerlink" href="#enviar-valores-de-hijo-a-padre" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>El procedimiento es similar, esta vez comenzamos por el componente hijo:</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">// se importa output y también el emisor de eventos:</span>
<span class="linenos"> 2</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span><span class="p">,</span> <span class="nx">Output</span><span class="p">,</span> <span class="nx">EventEmitter</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="kd">@Component</span><span class="p">({</span>
<span class="linenos"> 5</span>    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-hijo&#39;</span><span class="p">,</span>
<span class="linenos"> 6</span>    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./hijo.component.html&#39;</span><span class="p">,</span>
<span class="linenos"> 7</span>    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./hijo.component.css&#39;</span><span class="p">]</span>
<span class="linenos"> 8</span><span class="p">})</span>
<span class="linenos"> 9</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">HijoComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
<span class="linenos">10</span>    <span class="c1">// con el decorador Output se crea un nuevo objeto de tipo emisor:</span>
<span class="linenos">11</span>    <span class="kd">@Output</span><span class="p">()</span> <span class="nx">valor</span> : <span class="kt">EventEmitter</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">EventEmitter</span><span class="p">();</span>
<span class="linenos">12</span>
<span class="linenos">13</span>    <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="linenos">14</span>
<span class="linenos">15</span>    <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">16</span>    <span class="p">}</span>
<span class="linenos">17</span>
<span class="linenos">18</span>    <span class="c1">// preparamos un método para disparar el evento:</span>
<span class="linenos">19</span>    <span class="nx">handleChangeValor</span><span class="p">(){</span>
<span class="linenos">20</span>        <span class="k">this</span><span class="p">.</span><span class="nx">valor</span><span class="p">.</span><span class="nx">emit</span><span class="p">({</span><span class="nx">numeroHijo</span>: <span class="kt">50</span><span class="p">})</span>
<span class="linenos">21</span>    <span class="p">}</span>
<span class="linenos">22</span>
<span class="linenos">23</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Añadimos un botón en el hijo que ejecutará el método emisor:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>&lt;div class=&quot;card&quot;&gt;
<span class="linenos">2</span>    &lt;h3&gt;Componente hijo&lt;/h3&gt;
<span class="linenos">3</span>    &lt;button (click)=&quot;handleChangeValor()&quot;&gt;Cargar valor en el padre&lt;/button&gt;
<span class="linenos">4</span>&lt;/div&gt;
</pre></div>
</div>
<ul class="simple">
<li><p>El padre deberá tener un método para recibir el evento emitido y actualizar el atributo numérico:</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kd">@Component</span><span class="p">({</span>
<span class="linenos"> 4</span>    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-padre&#39;</span><span class="p">,</span>
<span class="linenos"> 5</span>    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./padre.component.html&#39;</span><span class="p">,</span>
<span class="linenos"> 6</span>    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./padre.component.css&#39;</span><span class="p">]</span>
<span class="linenos"> 7</span><span class="p">})</span>
<span class="linenos"> 8</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">PadreComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
<span class="linenos"> 9</span>    <span class="nx">numeroPadre</span> : <span class="kt">number</span><span class="p">;</span>
<span class="linenos">10</span>
<span class="linenos">11</span>    <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos">12</span>        <span class="k">this</span><span class="p">.</span><span class="nx">numeroPadre</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span>
<span class="linenos">13</span>
<span class="linenos">14</span>    <span class="p">}</span>
<span class="linenos">15</span>
<span class="linenos">16</span>    <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">17</span>    <span class="p">}</span>
<span class="linenos">18</span>
<span class="linenos">19</span>    <span class="c1">// recibimos el valor y lo asignamos al numeroPadre:</span>
<span class="linenos">20</span>    <span class="nx">getValor</span><span class="p">(</span><span class="nx">$event</span>: <span class="kt">any</span><span class="p">)</span><span class="o">:</span> <span class="ow">void</span><span class="p">{</span>
<span class="linenos">21</span>        <span class="k">this</span><span class="p">.</span><span class="nx">numeroPadre</span> <span class="o">=</span> <span class="nx">$event</span><span class="p">.</span><span class="nx">numeroHijo</span><span class="p">;</span>
<span class="linenos">22</span>    <span class="p">}</span>
<span class="linenos">23</span>
<span class="linenos">24</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>La plantilla solo tendrá que mostrar el número por defecto que cambiará al pulsar el botón:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>&lt;div class=&quot;card&quot;&gt;
<span class="linenos">2</span>    &lt;h2&gt;Componente padre&lt;/h2&gt;
<span class="linenos">3</span>    &lt;p&gt;Valor recibido: {{ numeroPadre }}&lt;/p&gt;
<span class="linenos">4</span>    &lt;!-- Ahora se recibe el valor en un método del padre que recibirá el evento: --&gt;
<span class="linenos">5</span>    &lt;app-hijo (valor)=&quot;getValor($event)&quot;&gt;&lt;/app-hijo&gt;
<span class="linenos">6</span>&lt;/div&gt;
</pre></div>
</div>
</section>
</section>
<section id="servicios-en-angular">
<h2><a class="toc-backref" href="#id49">Servicios en Angular</a><a class="headerlink" href="#servicios-en-angular" title="Enlazar permanentemente con este título">¶</a></h2>
<ul class="simple">
<li><p>Crear un servicio: <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">generate</span> <span class="pre">service</span> <span class="pre">nombreServicio</span></code></p></li>
<li><p>Crear un servicio en un directorio: <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">generate</span> <span class="pre">service</span> <span class="pre">services/nombreServicio</span></code>:</p></li>
</ul>
<div class="highlight-typescrypt notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>import { Injectable } from &#39;@angular/core&#39;;
<span class="linenos"> 2</span>
<span class="linenos"> 3</span>@Injectable({
<span class="linenos"> 4</span>    providedIn: &#39;root&#39; // esto indica que el servicio estará disponible en toda la aplicación
<span class="linenos"> 5</span>})
<span class="linenos"> 6</span>export class ConsolasService {
<span class="linenos"> 7</span>    // se crean los atributos como privados:
<span class="linenos"> 8</span>    private consolas: any = [
<span class="linenos"> 9</span>        {marca: &#39;Sony&#39;, modelo: &#39;Playstation&#39;, lanzamiento: 1995},
<span class="linenos">10</span>        {marca: &#39;Sega&#39;, modelo: &#39;Dreamcast&#39;, lanzamiento: 1998},
<span class="linenos">11</span>        {marca: &#39;Nintendo&#39;, modelo: &#39;Gameboy&#39;, lanzamiento: 1989},
<span class="linenos">12</span>        {marca: &#39;Nintendo&#39;, modelo: &#39;Gamecube&#39;, lanzamiento: 2002},
<span class="linenos">13</span>        {marca: &#39;Sony&#39;, modelo: &#39;Playstation 2&#39;, lanzamiento: 2001}
<span class="linenos">14</span>    ]
<span class="linenos">15</span>
<span class="linenos">16</span>    constructor() { }
<span class="linenos">17</span>
<span class="linenos">18</span>    // se generan los métodos para obtener el listado:
<span class="linenos">19</span>    getConsolas(): any {
<span class="linenos">20</span>        return this.consolas;
<span class="linenos">21</span>    }
<span class="linenos">22</span>}
</pre></div>
</div>
<ul class="simple">
<li><p>Implementamos el servicio en un componente:</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span><span class="c1">// se importa el servicio:</span>
<span class="linenos"> 3</span><span class="k">import</span> <span class="p">{</span> <span class="nx">ConsolasService</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;src/app/services/consolas.service&#39;</span><span class="p">;</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="kd">@Component</span><span class="p">({</span>
<span class="linenos"> 6</span>    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-directiva-for&#39;</span><span class="p">,</span>
<span class="linenos"> 7</span>    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./directiva-for.component.html&#39;</span><span class="p">,</span>
<span class="linenos"> 8</span>    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./directiva-for.component.css&#39;</span><span class="p">]</span>
<span class="linenos"> 9</span><span class="p">})</span>
<span class="linenos">10</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">DirectivaForComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
<span class="linenos">11</span>    <span class="c1">// crear colección:</span>
<span class="linenos">12</span>    <span class="nx">consolas</span>: <span class="kt">Array</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[];</span>
<span class="linenos">13</span>
<span class="linenos">14</span>    <span class="c1">// se instancia por parámetros el servicio:</span>
<span class="linenos">15</span>    <span class="kr">constructor</span><span class="p">(</span><span class="k">private</span> <span class="nx">consolasService</span>: <span class="kt">ConsolasService</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos">16</span>
<span class="linenos">17</span>    <span class="p">}</span>
<span class="linenos">18</span>
<span class="linenos">19</span>    <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">20</span>        <span class="c1">// cuando haya cargado la página y obtenido los clientes se carga en el Init:</span>
<span class="linenos">21</span>        <span class="k">this</span><span class="p">.</span><span class="nx">consolas</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">consolasService</span><span class="p">.</span><span class="nx">getConsolas</span><span class="p">();</span>
<span class="linenos">22</span>    <span class="p">}</span>
<span class="linenos">23</span>
<span class="linenos">24</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Ya se puede usar el servicio en el template:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>&lt;div class=&quot;card&quot;&gt;
<span class="linenos"> 2</span>    &lt;h1&gt;Listado de consolas con *ngFor&lt;/h1&gt;
<span class="linenos"> 3</span>
<span class="linenos"> 4</span>    &lt;table border=1&gt;
<span class="linenos"> 5</span>        &lt;tr&gt;
<span class="linenos"> 6</span>        &lt;th&gt;ID&lt;/th&gt;
<span class="linenos"> 7</span>        &lt;th&gt;Consola&lt;/th&gt;
<span class="linenos"> 8</span>        &lt;th&gt;Marca&lt;/th&gt;
<span class="linenos"> 9</span>        &lt;th&gt;Lanzamiento&lt;/th&gt;
<span class="linenos">10</span>        &lt;/tr&gt;
<span class="linenos">11</span>        &lt;tr *ngFor=&quot;let consola of consolas; let i = index&quot;&gt;
<span class="linenos">12</span>        &lt;td&gt;{{ i + 1 }}&lt;/td&gt;
<span class="linenos">13</span>        &lt;td&gt;{{ consola.modelo }}&lt;/td&gt;
<span class="linenos">14</span>        &lt;td&gt;{{ consola.marca }}&lt;/td&gt;
<span class="linenos">15</span>        &lt;td&gt;{{ consola.lanzamiento }}&lt;/td&gt;
<span class="linenos">16</span>        &lt;/tr&gt;
<span class="linenos">17</span>    &lt;/table&gt;
<span class="linenos">18</span>&lt;/div&gt;
</pre></div>
</div>
<section id="cargar-datos-en-servicio">
<h3><a class="toc-backref" href="#id50">Cargar datos en servicio</a><a class="headerlink" href="#cargar-datos-en-servicio" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Para enviar información al servicio hacemos lo siguiente:</p>
<ul class="simple">
<li><p>Ahora se modifica el servicio para añadir un set:</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Injectable</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kd">@Injectable</span><span class="p">({</span>
<span class="linenos"> 4</span>    <span class="nx">providedIn</span><span class="o">:</span> <span class="s1">&#39;root&#39;</span>
<span class="linenos"> 5</span><span class="p">})</span>
<span class="linenos"> 6</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">ConsolasService</span> <span class="p">{</span>
<span class="linenos"> 7</span>    <span class="k">private</span> <span class="nx">consolas</span>: <span class="kt">any</span> <span class="o">=</span> <span class="p">[</span>
<span class="linenos"> 8</span>        <span class="p">{</span><span class="nx">marca</span><span class="o">:</span> <span class="s1">&#39;Sony&#39;</span><span class="p">,</span> <span class="nx">modelo</span><span class="o">:</span> <span class="s1">&#39;Playstation&#39;</span><span class="p">,</span> <span class="nx">lanzamiento</span>: <span class="kt">1995</span><span class="p">},</span>
<span class="linenos"> 9</span>        <span class="p">{</span><span class="nx">marca</span><span class="o">:</span> <span class="s1">&#39;Sega&#39;</span><span class="p">,</span> <span class="nx">modelo</span><span class="o">:</span> <span class="s1">&#39;Dreamcast&#39;</span><span class="p">,</span> <span class="nx">lanzamiento</span>: <span class="kt">1998</span><span class="p">},</span>
<span class="linenos">10</span>        <span class="p">{</span><span class="nx">marca</span><span class="o">:</span> <span class="s1">&#39;Nintendo&#39;</span><span class="p">,</span> <span class="nx">modelo</span><span class="o">:</span> <span class="s1">&#39;Gameboy&#39;</span><span class="p">,</span> <span class="nx">lanzamiento</span>: <span class="kt">1989</span><span class="p">},</span>
<span class="linenos">11</span>        <span class="p">{</span><span class="nx">marca</span><span class="o">:</span> <span class="s1">&#39;Nintendo&#39;</span><span class="p">,</span> <span class="nx">modelo</span><span class="o">:</span> <span class="s1">&#39;Gamecube&#39;</span><span class="p">,</span> <span class="nx">lanzamiento</span>: <span class="kt">2002</span><span class="p">},</span>
<span class="linenos">12</span>        <span class="p">{</span><span class="nx">marca</span><span class="o">:</span> <span class="s1">&#39;Sony&#39;</span><span class="p">,</span> <span class="nx">modelo</span><span class="o">:</span> <span class="s1">&#39;Playstation 2&#39;</span><span class="p">,</span> <span class="nx">lanzamiento</span>: <span class="kt">2001</span><span class="p">}</span>
<span class="linenos">13</span>    <span class="p">]</span>
<span class="linenos">14</span>
<span class="linenos">15</span>    <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="linenos">16</span>
<span class="linenos">17</span>    <span class="nx">getConsolas</span><span class="p">()</span><span class="o">:</span> <span class="nx">any</span> <span class="p">{</span>
<span class="linenos">18</span>        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">consolas</span><span class="p">;</span>
<span class="linenos">19</span>    <span class="p">}</span>
<span class="linenos">20</span>
<span class="linenos">21</span>    <span class="c1">// crear un set que añadirá el nuevo elemento en la lista:</span>
<span class="linenos">22</span>    <span class="nx">setConsola</span><span class="p">(</span><span class="nx">consola</span>: <span class="kt">any</span><span class="p">)</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">23</span>        <span class="k">this</span><span class="p">.</span><span class="nx">consolas</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">consola</span><span class="p">);</span>
<span class="linenos">24</span>    <span class="p">}</span>
<span class="linenos">25</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Crear un componente por ejemplo <strong>crearConsola</strong> y editar su componente:</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span><span class="c1">// se importa el servicio:</span>
<span class="linenos"> 3</span><span class="k">import</span> <span class="p">{</span> <span class="nx">ConsolasService</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;src/app/services/consolas.service&#39;</span><span class="p">;</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="kd">@Component</span><span class="p">({</span>
<span class="linenos"> 6</span>    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-crear-consola&#39;</span><span class="p">,</span>
<span class="linenos"> 7</span>    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./crear-consola.component.html&#39;</span><span class="p">,</span>
<span class="linenos"> 8</span>    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./crear-consola.component.css&#39;</span><span class="p">]</span>
<span class="linenos"> 9</span><span class="p">})</span>
<span class="linenos">10</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">CrearConsolaComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
<span class="linenos">11</span>    <span class="c1">// se prepara el objeto para añadir una consola:</span>
<span class="linenos">12</span>    <span class="nx">consola</span>: <span class="kt">any</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">13</span>        <span class="nx">marca</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="linenos">14</span>        <span class="nx">modelo</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="linenos">15</span>        <span class="nx">lanzamiento</span><span class="o">:</span> <span class="s1">&#39;&#39;</span>
<span class="linenos">16</span>    <span class="p">}</span>
<span class="linenos">17</span>    <span class="c1">// se carga el servicio en el constructor:</span>
<span class="linenos">18</span>    <span class="kr">constructor</span><span class="p">(</span><span class="k">private</span> <span class="nx">consolasService</span>: <span class="kt">ConsolasService</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
<span class="linenos">19</span>
<span class="linenos">20</span>    <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">21</span>    <span class="p">}</span>
<span class="linenos">22</span>
<span class="linenos">23</span>    <span class="c1">// preparamos un método para añadir consola:</span>
<span class="linenos">24</span>    <span class="nx">crearConsola</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span><span class="p">{</span>
<span class="linenos">25</span>        <span class="k">this</span><span class="p">.</span><span class="nx">consolasService</span><span class="p">.</span><span class="nx">setConsola</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">consola</span><span class="p">);</span>
<span class="linenos">26</span>    <span class="p">}</span>
<span class="linenos">27</span>
<span class="linenos">28</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>En su template tendrá un formulario:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>&lt;div class=&quot;card&quot;&gt;
<span class="linenos">2</span>    &lt;label&gt;Marca&lt;/label&gt;
<span class="linenos">3</span>    &lt;input type=&quot;text&quot; name=&quot;marca&quot; [(ngModel)]=&quot;consola.marca&quot;&gt;
<span class="linenos">4</span>    &lt;label&gt;Modelo&lt;/label&gt;
<span class="linenos">5</span>    &lt;input type=&quot;text&quot; name=&quot;modelo&quot; [(ngModel)]=&quot;consola.modelo&quot;&gt;
<span class="linenos">6</span>    &lt;label&gt;Lanzamiento&lt;/label&gt;
<span class="linenos">7</span>    &lt;input type=&quot;number&quot; name=&quot;lanzamiento&quot; [(ngModel)]=&quot;consola.lanzamiento&quot;&gt;
<span class="linenos">8</span>    &lt;button (click)=&quot;crearConsola()&quot;&gt;Añadir&lt;/button&gt;
<span class="linenos">9</span>&lt;/div&gt;
</pre></div>
</div>
<div class="admonition attention">
<p class="admonition-title">Atención</p>
<p>Recuerda que hay que añadir FormsModule en el módulo principal app.</p>
</div>
</section>
</section>
<section id="interfaces-angular">
<h2><a class="toc-backref" href="#id51">Interfaces Angular</a><a class="headerlink" href="#interfaces-angular" title="Enlazar permanentemente con este título">¶</a></h2>
<ul class="simple">
<li><p>Crear interface en angular: <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">generate</span> <span class="pre">interface</span> <span class="pre">nombreInterface</span></code></p></li>
<li><p>Crear en una carpeta específica: <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">generate</span> <span class="pre">interface</span> <span class="pre">interfaces/nombreInterface</span></code></p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">export</span> <span class="kd">interface</span> <span class="nx">Consola</span> <span class="p">{</span>
<span class="linenos">2</span>    <span class="nx">marca</span>: <span class="kt">string</span><span class="p">,</span>
<span class="linenos">3</span>    <span class="nx">modelo</span>: <span class="kt">string</span><span class="p">,</span>
<span class="linenos">4</span>    <span class="nx">lanzamiento</span>: <span class="kt">number</span>
<span class="linenos">5</span><span class="p">}</span>
</pre></div>
</div>
<p>Ahora para establecerlo como un tipo de propiedad lo asignamos al atributo:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span><span class="c1">// se importa la interfaz consolas:</span>
<span class="linenos"> 3</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Consolas</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;src/app/interfaces/consolas&#39;</span><span class="p">;</span>
<span class="linenos"> 4</span><span class="k">import</span> <span class="p">{</span> <span class="nx">ConsolasService</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;src/app/services/consolas.service&#39;</span><span class="p">;</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="kd">@Component</span><span class="p">({</span>
<span class="linenos"> 7</span>    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-crear-consola&#39;</span><span class="p">,</span>
<span class="linenos"> 8</span>    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./crear-consola.component.html&#39;</span><span class="p">,</span>
<span class="linenos"> 9</span>    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./crear-consola.component.css&#39;</span><span class="p">]</span>
<span class="linenos">10</span><span class="p">})</span>
<span class="linenos">11</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">CrearConsolaComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
<span class="linenos">12</span>    <span class="c1">// se prepara el objeto para añadir una consola:</span>
<span class="linenos">13</span>    <span class="nx">consola</span>: <span class="kt">Consolas</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">14</span>        <span class="nx">marca</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="linenos">15</span>        <span class="nx">modelo</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="linenos">16</span>        <span class="nx">lanzamiento</span>: <span class="kt">0</span>
<span class="linenos">17</span>    <span class="p">}</span>
<span class="linenos">18</span>    <span class="kr">constructor</span><span class="p">(</span><span class="k">private</span> <span class="nx">consolasService</span>: <span class="kt">ConsolasService</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
<span class="linenos">19</span>
<span class="linenos">20</span>    <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">21</span>    <span class="p">}</span>
<span class="linenos">22</span>
<span class="linenos">23</span>    <span class="nx">crearConsola</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span><span class="p">{</span>
<span class="linenos">24</span>        <span class="k">this</span><span class="p">.</span><span class="nx">consolasService</span><span class="p">.</span><span class="nx">setConsola</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">consola</span><span class="p">);</span>
<span class="linenos">25</span>    <span class="p">}</span>
<span class="linenos">26</span>
<span class="linenos">27</span><span class="p">}</span>
</pre></div>
</div>
<p>Esta interfaz se puede aplicar en donde se necesite ya sea controladores o servicios.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Si tenemos que definir un listado de objetos podemos declararlo usando el nombre de la intefaz: <code class="docutils literal notranslate"><span class="pre">consolas:</span> <span class="pre">Array&lt;NombreInterface&gt;</span> <span class="pre">=</span> <span class="pre">[];</span></code></p>
</div>
</section>
<section id="rutas-en-angular">
<h2><a class="toc-backref" href="#id52">Rutas en angular</a><a class="headerlink" href="#rutas-en-angular" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Si hemos añadido <strong>angular routing</strong> para crear nuestro proyecto podemos usar las rutas de angular de forma sencilla.</p>
<ul class="simple">
<li><p>Se crean dos componentes nuevo para páginas: <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">generate</span> <span class="pre">component</span> <span class="pre">pages/index</span></code> y <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">generate</span> <span class="pre">component</span> <span class="pre">pages/about</span></code></p></li>
<li><p>Al iniciar le proyecto se crea un archivo en <strong>apps</strong> llamado <strong>app-routing.module.ts</strong> que vamos a editar:</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">NgModule</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span><span class="k">import</span> <span class="p">{</span> <span class="nx">RouterModule</span><span class="p">,</span> <span class="nx">Routes</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/router&#39;</span><span class="p">;</span>
<span class="linenos"> 3</span><span class="c1">// importamos los componentes:</span>
<span class="linenos"> 4</span><span class="k">import</span> <span class="p">{</span> <span class="nx">AboutComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./pages/about/about.component&#39;</span><span class="p">;</span>
<span class="linenos"> 5</span><span class="k">import</span> <span class="p">{</span> <span class="nx">IndexComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./pages/index/index.component&#39;</span><span class="p">;</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="c1">// Aquí se van añadiendo las rutas:</span>
<span class="linenos"> 8</span><span class="kd">const</span> <span class="nx">routes</span>: <span class="kt">Routes</span> <span class="o">=</span> <span class="p">[</span>
<span class="linenos"> 9</span>    <span class="p">{</span><span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">component</span>: <span class="kt">IndexComponent</span><span class="p">},</span> <span class="c1">// añadimos la ruta raiz</span>
<span class="linenos">10</span>    <span class="p">{</span><span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;about&#39;</span><span class="p">,</span> <span class="nx">component</span>: <span class="kt">AboutComponent</span><span class="p">}</span> <span class="c1">// y las rutas que tengamos según componentes</span>
<span class="linenos">11</span><span class="p">];</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="kd">@NgModule</span><span class="p">({</span>
<span class="linenos">14</span>    <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span><span class="nx">RouterModule</span><span class="p">.</span><span class="nx">forRoot</span><span class="p">(</span><span class="nx">routes</span><span class="p">)],</span>
<span class="linenos">15</span>    <span class="nx">exports</span><span class="o">:</span> <span class="p">[</span><span class="nx">RouterModule</span><span class="p">]</span>
<span class="linenos">16</span><span class="p">})</span>
<span class="linenos">17</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">AppRoutingModule</span> <span class="p">{</span> <span class="p">}</span>
</pre></div>
</div>
<p>Ahora se añade el enrutador al template de <strong>app.component.html</strong>:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="cm">&lt;!-- Aquí añadimos la ruta: --&gt;</span>
<span class="linenos">2</span><span class="p">&lt;</span><span class="nt">router-outlet</span><span class="p">&gt;&lt;/</span><span class="nt">router-outlet</span><span class="p">&gt;</span>
</pre></div>
</div>
<section id="enlaces-de-rutas">
<h3><a class="toc-backref" href="#id53">Enlaces de rutas</a><a class="headerlink" href="#enlaces-de-rutas" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Para crear enlaces en las rutas hacemos lo siguiente en un template como <strong>app.component.html</strong>:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>&lt;div class=&quot;navbar&quot;&gt;
<span class="linenos">2</span>    &lt;h2&gt;Rutas&lt;/h2&gt;
<span class="linenos">3</span>    &lt;!-- Para el enrutamiento se usa routerLink y para indicar que clase css usar cuando esta activo routerLinkActive --&gt;
<span class="linenos">4</span>    &lt;button routerLink=&quot;/&quot; routerLinkActive=&quot;seleccionado&quot; [routerLinkActiveOptions]=&quot;{exact: true}&quot;&gt;Inicio&lt;/button&gt;&lt;!-- para que la raiz no se quede marcada hay que pasar este tercer parámetro --&gt;
<span class="linenos">5</span>    &lt;button routerLink=&quot;about&quot; routerLinkActive=&quot;seleccionado&quot;&gt;About&lt;/button&gt;
<span class="linenos">6</span>&lt;/div&gt;
<span class="linenos">7</span>
<span class="linenos">8</span>&lt;router-outlet&gt;&lt;/router-outlet&gt;
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Lo ideal es crear un nuevo componente para un navbar</p>
</div>
</section>
<section id="rutas-no-existente">
<h3><a class="toc-backref" href="#id54">Rutas no existente</a><a class="headerlink" href="#rutas-no-existente" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Para solucionar las rutas inexistentes se crea un componente 404: <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">generate</span> <span class="pre">component</span> <span class="pre">pages/error</span></code>
* Se añade al enrutador:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">NgModule</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span><span class="k">import</span> <span class="p">{</span> <span class="nx">RouterModule</span><span class="p">,</span> <span class="nx">Routes</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/router&#39;</span><span class="p">;</span>
<span class="linenos"> 3</span><span class="k">import</span> <span class="p">{</span> <span class="nx">AboutComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./pages/about/about.component&#39;</span><span class="p">;</span>
<span class="linenos"> 4</span><span class="k">import</span> <span class="p">{</span> <span class="nx">ErrorComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./pages/error/error.component&#39;</span><span class="p">;</span>
<span class="linenos"> 5</span><span class="c1">// se importa el componente:</span>
<span class="linenos"> 6</span><span class="k">import</span> <span class="p">{</span> <span class="nx">IndexComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./pages/index/index.component&#39;</span><span class="p">;</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="kd">const</span> <span class="nx">routes</span>: <span class="kt">Routes</span> <span class="o">=</span> <span class="p">[</span>
<span class="linenos"> 9</span>    <span class="p">{</span><span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">component</span>: <span class="kt">IndexComponent</span><span class="p">},</span>
<span class="linenos">10</span>    <span class="p">{</span><span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;about&#39;</span><span class="p">,</span> <span class="nx">component</span>: <span class="kt">AboutComponent</span><span class="p">},</span>
<span class="linenos">11</span>    <span class="p">{</span><span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;**&#39;</span><span class="p">,</span> <span class="nx">component</span>:<span class="kt">ErrorComponent</span><span class="p">}</span> <span class="c1">// va añadido siempre al final esta ruta</span>
<span class="linenos">12</span><span class="p">];</span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="kd">@NgModule</span><span class="p">({</span>
<span class="linenos">15</span>    <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span><span class="nx">RouterModule</span><span class="p">.</span><span class="nx">forRoot</span><span class="p">(</span><span class="nx">routes</span><span class="p">)],</span>
<span class="linenos">16</span>    <span class="nx">exports</span><span class="o">:</span> <span class="p">[</span><span class="nx">RouterModule</span><span class="p">]</span>
<span class="linenos">17</span><span class="p">})</span>
<span class="linenos">18</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">AppRoutingModule</span> <span class="p">{</span> <span class="p">}</span>
</pre></div>
</div>
<p>Ahora quedaría retocar la plantilla de la página para que muestre un error 404 personalizado.</p>
</section>
</section>
<section id="formularios-reactivos">
<h2><a class="toc-backref" href="#id55">Formularios Reactivos</a><a class="headerlink" href="#formularios-reactivos" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Vamos a trabajar con <strong>ReactiveFormsModule</strong> para implementar validaciones más potentes y otras características.</p>
<ul class="simple">
<li><p>Lo primero será cargar la librería <strong>ReactiveFormsModule</strong> en <strong>app.module.ts</strong>:</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">NgModule</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span><span class="k">import</span> <span class="p">{</span> <span class="nx">BrowserModule</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/platform-browser&#39;</span><span class="p">;</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="k">import</span> <span class="p">{</span> <span class="nx">AppRoutingModule</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./app-routing.module&#39;</span><span class="p">;</span>
<span class="linenos"> 5</span><span class="k">import</span> <span class="p">{</span> <span class="nx">AppComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./app.component&#39;</span><span class="p">;</span>
<span class="linenos"> 6</span><span class="k">import</span> <span class="p">{</span> <span class="nx">AboutComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./pages/about/about.component&#39;</span><span class="p">;</span>
<span class="linenos"> 7</span><span class="k">import</span> <span class="p">{</span> <span class="nx">IndexComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./pages/index/index.component&#39;</span><span class="p">;</span>
<span class="linenos"> 8</span><span class="k">import</span> <span class="p">{</span> <span class="nx">ErrorComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./pages/error/error.component&#39;</span><span class="p">;</span>
<span class="linenos"> 9</span><span class="k">import</span> <span class="p">{</span> <span class="nx">CrearConsolaComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./componets/crear-consola/crear-consola.component&#39;</span><span class="p">;</span>
<span class="linenos">10</span><span class="c1">// se importa la librería ReactiveFormsModule</span>
<span class="linenos">11</span><span class="k">import</span> <span class="p">{</span> <span class="nx">ReactiveFormsModule</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/forms&#39;</span><span class="p">;</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="kd">@NgModule</span><span class="p">({</span>
<span class="linenos">14</span>    <span class="nx">declarations</span><span class="o">:</span> <span class="p">[</span>
<span class="linenos">15</span>        <span class="nx">AppComponent</span><span class="p">,</span>
<span class="linenos">16</span>        <span class="nx">AboutComponent</span><span class="p">,</span>
<span class="linenos">17</span>        <span class="nx">IndexComponent</span><span class="p">,</span>
<span class="linenos">18</span>        <span class="nx">ErrorComponent</span><span class="p">,</span>
<span class="linenos">19</span>        <span class="nx">CrearConsolaComponent</span>
<span class="linenos">20</span>    <span class="p">],</span>
<span class="linenos">21</span>    <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span>
<span class="linenos">22</span>        <span class="nx">BrowserModule</span><span class="p">,</span>
<span class="linenos">23</span>        <span class="nx">AppRoutingModule</span><span class="p">,</span>
<span class="linenos">24</span>        <span class="nx">ReactiveFormsModule</span> <span class="c1">// y se declara para usar en el modulo app</span>
<span class="linenos">25</span>    <span class="p">],</span>
<span class="linenos">26</span>    <span class="nx">providers</span><span class="o">:</span> <span class="p">[],</span>
<span class="linenos">27</span>    <span class="nx">bootstrap</span><span class="o">:</span> <span class="p">[</span><span class="nx">AppComponent</span><span class="p">]</span>
<span class="linenos">28</span><span class="p">})</span>
<span class="linenos">29</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">AppModule</span> <span class="p">{</span> <span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Ahora se trabaja el componente:</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span><span class="c1">// se importa formgroup, formcontrol y validators:</span>
<span class="linenos"> 3</span><span class="k">import</span> <span class="p">{</span> <span class="nx">FormControl</span><span class="p">,</span> <span class="nx">FormGroup</span><span class="p">,</span> <span class="nx">Validators</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/forms&#39;</span><span class="p">;</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="kd">@Component</span><span class="p">({</span>
<span class="linenos"> 6</span>    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-crear-consola&#39;</span><span class="p">,</span>
<span class="linenos"> 7</span>    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./crear-consola.component.html&#39;</span><span class="p">,</span>
<span class="linenos"> 8</span>    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./crear-consola.component.css&#39;</span><span class="p">]</span>
<span class="linenos"> 9</span><span class="p">})</span>
<span class="linenos">10</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">CrearConsolaComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
<span class="linenos">11</span>    <span class="c1">// creamos el atributo que manejara el form con el tipo FormGroup:</span>
<span class="linenos">12</span>    <span class="k">public</span> <span class="nx">consolaForm</span>: <span class="kt">FormGroup</span><span class="p">;</span>
<span class="linenos">13</span>
<span class="linenos">14</span>    <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos">15</span>        <span class="c1">// se implementa el formulario con sus campos:</span>
<span class="linenos">16</span>        <span class="k">this</span><span class="p">.</span><span class="nx">consolaForm</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">FormGroup</span><span class="p">({</span> <span class="c1">// también se aplicarán los validadores:</span>
<span class="linenos">17</span>        <span class="nx">marca</span>: <span class="kt">new</span> <span class="nx">FormControl</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nx">Validators</span><span class="p">.</span><span class="nx">required</span><span class="p">]),</span>
<span class="linenos">18</span>        <span class="nx">modelo</span>: <span class="kt">new</span> <span class="nx">FormControl</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nx">Validators</span><span class="p">.</span><span class="nx">required</span><span class="p">]),</span>
<span class="linenos">19</span>        <span class="nx">lanzamiento</span>: <span class="kt">new</span> <span class="nx">FormControl</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="p">[</span><span class="nx">Validators</span><span class="p">.</span><span class="nx">required</span><span class="p">])</span>
<span class="linenos">20</span>        <span class="p">});</span>
<span class="linenos">21</span>    <span class="p">}</span>
<span class="linenos">22</span>
<span class="linenos">23</span>    <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">24</span>
<span class="linenos">25</span>    <span class="p">}</span>
<span class="linenos">26</span>
<span class="linenos">27</span>    <span class="nx">enviarConsola</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span><span class="p">{</span>
<span class="linenos">28</span>        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;se dispara&#39;</span><span class="p">);</span>
<span class="linenos">29</span>        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">consolaForm</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
<span class="linenos">30</span>    <span class="p">}</span>
<span class="linenos">31</span>
<span class="linenos">32</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Ahora pasamos al template a crear el formulario:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>&lt;div class=&quot;card&quot;&gt;
<span class="linenos"> 2</span>&lt;!-- se carga la directiva formgroup con el atributo a una función que guardará la información:--&gt;
<span class="linenos"> 3</span>&lt;form [formGroup]=&quot;consolaForm&quot; (ngSubmit)=&quot;enviarConsola()&quot;&gt;
<span class="linenos"> 4</span>    &lt;label&gt;Marca&lt;/label&gt;
<span class="linenos"> 5</span>    &lt;input type=&quot;text&quot; formControlName=&quot;marca&quot;&gt;
<span class="linenos"> 6</span>    &lt;div *ngIf=&quot;consolaForm.controls[&#39;marca&#39;].invalid&quot;&gt;El campo es requerido&lt;/div&gt;
<span class="linenos"> 7</span>    &lt;label&gt;Modelo&lt;/label&gt;
<span class="linenos"> 8</span>    &lt;input type=&quot;text&quot; formControlName=&quot;modelo&quot;&gt;
<span class="linenos"> 9</span>    &lt;div *ngIf=&quot;consolaForm.controls[&#39;modelo&#39;].invalid&quot;&gt;El campo es requerido&lt;/div&gt;
<span class="linenos">10</span>    &lt;label&gt;Lanzamiento&lt;/label&gt;
<span class="linenos">11</span>    &lt;input type=&quot;number&quot; formControlName=&quot;lanzamiento&quot;&gt;
<span class="linenos">12</span>    &lt;div *ngIf=&quot;consolaForm.controls[&#39;lanzamiento&#39;].invalid&quot;&gt;El campo es requerido&lt;/div&gt;
<span class="linenos">13</span>&lt;!-- Validar todo el formulario antes de poder activar el botón: --&gt;
<span class="linenos">14</span>&lt;button [disabled]=&quot;consolaForm.invalid&quot; type=&quot;submit&quot;&gt;Enviar&lt;/button&gt;
<span class="linenos">15</span>&lt;/form&gt;
<span class="linenos">16</span>&lt;!-- Para depurar el formulario cargamos con pre los elementos: --&gt;
<span class="linenos">17</span>&lt;pre&gt;{{ consolaForm.value | json }}&lt;/pre&gt;
<span class="linenos">18</span>&lt;/div&gt;
</pre></div>
</div>
<p>Tipos de validaciones comunes:</p>
<ul class="simple">
<li><p>pristine: limpio, nada escrito.</p></li>
<li><p>dirty: se ha escrito.</p></li>
<li><p>touched: ha sido seleccionado.</p></li>
<li><p>untouched: no esta seleccionado.</p></li>
<li><p>valid: es válido.</p></li>
<li><p>invalid: no es válido.</p></li>
</ul>
</section>
<section id="peticiones-http">
<h2><a class="toc-backref" href="#id56">Peticiones HTTP</a><a class="headerlink" href="#peticiones-http" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Partimos de un proyecto nuevo creado con <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">new</span> <span class="pre">consolasfront</span></code></p>
<section id="preparativos">
<h3><a class="toc-backref" href="#id57">Preparativos</a><a class="headerlink" href="#preparativos" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Lo primero será cargar el modulo <strong>HttpClientsModule</strong> en los imports de <strong>app.module.ts</strong>:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">NgModule</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span><span class="k">import</span> <span class="p">{</span> <span class="nx">BrowserModule</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/platform-browser&#39;</span><span class="p">;</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="k">import</span> <span class="p">{</span> <span class="nx">AppComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./app.component&#39;</span><span class="p">;</span>
<span class="linenos"> 5</span><span class="k">import</span> <span class="p">{</span> <span class="nx">FormsModule</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/forms&#39;</span><span class="p">;</span>
<span class="linenos"> 6</span><span class="k">import</span> <span class="p">{</span> <span class="nx">DirectivaIfComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./components/directiva-if/directiva-if.component&#39;</span><span class="p">;</span>
<span class="linenos"> 7</span><span class="k">import</span> <span class="p">{</span> <span class="nx">DirectivaForComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./components/directiva-for/directiva-for.component&#39;</span><span class="p">;</span>
<span class="linenos"> 8</span><span class="k">import</span> <span class="p">{</span> <span class="nx">CrearConsolaComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./components/crear-consola/crear-consola.component&#39;</span><span class="p">;</span> <span class="c1">// se importan los forms.</span>
<span class="linenos"> 9</span><span class="c1">// se carga la librería HttpClientModule:</span>
<span class="linenos">10</span><span class="k">import</span> <span class="p">{</span> <span class="nx">HttpClientModule</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/common/http&#39;</span><span class="p">;</span>
<span class="linenos">11</span>
<span class="linenos">12</span><span class="kd">@NgModule</span><span class="p">({</span>
<span class="linenos">13</span><span class="nx">declarations</span><span class="o">:</span> <span class="p">[</span>
<span class="linenos">14</span>    <span class="nx">AppComponent</span><span class="p">,</span>
<span class="linenos">15</span>    <span class="nx">DirectivaForComponent</span><span class="p">,</span>
<span class="linenos">16</span>    <span class="nx">CrearConsolaComponent</span><span class="p">,</span>
<span class="linenos">17</span><span class="p">],</span>
<span class="linenos">18</span><span class="nx">imports</span><span class="o">:</span> <span class="p">[</span>
<span class="linenos">19</span>    <span class="nx">BrowserModule</span><span class="p">,</span>
<span class="linenos">20</span>    <span class="nx">HttpClientModule</span><span class="p">,</span> <span class="c1">// cargamos el httpclientmodule</span>
<span class="linenos">21</span>    <span class="nx">FormsModule</span>
<span class="linenos">22</span><span class="p">],</span>
<span class="linenos">23</span><span class="nx">providers</span><span class="o">:</span> <span class="p">[],</span>
<span class="linenos">24</span><span class="nx">bootstrap</span><span class="o">:</span> <span class="p">[</span><span class="nx">AppComponent</span><span class="p">]</span>
<span class="linenos">25</span><span class="p">})</span>
<span class="linenos">26</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">AppModule</span> <span class="p">{</span> <span class="p">}</span>
</pre></div>
</div>
</section>
<section id="crear-servicio-http">
<h3><a class="toc-backref" href="#id58">Crear servicio Http</a><a class="headerlink" href="#crear-servicio-http" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Se crea un nuevo servicio en angular con <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">generate</span> <span class="pre">service</span> <span class="pre">services/consolas</span></code> y se edita:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">// se importa la librería http:</span>
<span class="linenos"> 2</span><span class="k">import</span> <span class="p">{</span> <span class="nx">HttpClient</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/common/http&#39;</span><span class="p">;</span>
<span class="linenos"> 3</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Injectable</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 4</span><span class="c1">// importamos map de rxjs:</span>
<span class="linenos"> 5</span><span class="k">import</span> <span class="p">{</span> <span class="nx">map</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;rxjs/operators&#39;</span><span class="p">;</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="kd">@Injectable</span><span class="p">({</span>
<span class="linenos"> 8</span><span class="nx">providedIn</span><span class="o">:</span> <span class="s1">&#39;root&#39;</span>
<span class="linenos"> 9</span><span class="p">})</span>
<span class="linenos">10</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">ConsolasService</span> <span class="p">{</span>
<span class="linenos">11</span>    <span class="c1">// definimos la ruta base que será la del servidor API:</span>
<span class="linenos">12</span>    <span class="nx">base</span>: <span class="kt">string</span> <span class="o">=</span> <span class="s1">&#39;http://localhost:3500&#39;</span><span class="p">;</span>
<span class="linenos">13</span>
<span class="linenos">14</span>    <span class="c1">// se carga la librería http en el constructor:</span>
<span class="linenos">15</span>    <span class="kr">constructor</span><span class="p">(</span><span class="k">private</span> <span class="nx">http</span>: <span class="kt">HttpClient</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
<span class="linenos">16</span>
<span class="linenos">17</span>    <span class="c1">// utilizamos el getter para hacer la petición get:</span>
<span class="linenos">18</span>    <span class="nx">getConsolas</span><span class="p">()</span><span class="o">:</span> <span class="nx">any</span> <span class="p">{</span>
<span class="linenos">19</span>        <span class="c1">// esto retorna una petición con get y una respuesta con pipe:</span>
<span class="linenos">20</span>        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">base</span><span class="p">)</span>
<span class="linenos">21</span>                        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span> <span class="c1">// se mapea la respuesta con rxjs:</span>
<span class="linenos">22</span>                        <span class="nx">map</span><span class="p">((</span><span class="nx">data</span>: <span class="kt">any</span><span class="p">)=&gt;</span> <span class="p">{</span>
<span class="linenos">23</span>                            <span class="k">return</span> <span class="nx">data</span><span class="p">;</span>
<span class="linenos">24</span>                        <span class="p">})</span>
<span class="linenos">25</span>                        <span class="p">);</span>
<span class="linenos">26</span>    <span class="p">}</span>
<span class="linenos">27</span>
<span class="linenos">28</span>    <span class="c1">// recuperar un solo valor del mismo modo que antes pero con un endpoint recibido por parametros:</span>
<span class="linenos">29</span>    <span class="nx">getConsola</span><span class="p">(</span><span class="nx">marca</span>: <span class="kt">any</span><span class="p">)</span><span class="o">:</span> <span class="nx">any</span> <span class="p">{</span>
<span class="linenos">30</span>        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">base</span><span class="si">}</span><span class="sb">/consola/</span><span class="si">${</span><span class="nx">marca</span><span class="si">}</span><span class="sb">`</span><span class="p">)</span>
<span class="linenos">31</span>                        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span>
<span class="linenos">32</span>                        <span class="nx">map</span><span class="p">((</span><span class="nx">data</span>: <span class="kt">any</span><span class="p">)=&gt;</span> <span class="p">{</span>
<span class="linenos">33</span>                            <span class="k">return</span> <span class="nx">data</span><span class="p">;</span>
<span class="linenos">34</span>                        <span class="p">})</span>
<span class="linenos">35</span>                        <span class="p">);</span>
<span class="linenos">36</span>    <span class="p">}</span>
<span class="linenos">37</span>
<span class="linenos">38</span>    <span class="c1">// Hacemos un método POST:</span>
<span class="linenos">39</span>    <span class="nx">postConsola</span><span class="p">(</span><span class="nx">consola</span>: <span class="kt">any</span><span class="p">)</span><span class="o">:</span> <span class="nx">any</span> <span class="p">{</span>
<span class="linenos">40</span>        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">base</span><span class="si">}</span><span class="sb">/consola/crear/`</span><span class="p">,</span> <span class="nx">consola</span><span class="p">)</span>
<span class="linenos">41</span>                        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span>
<span class="linenos">42</span>                        <span class="nx">map</span><span class="p">((</span><span class="nx">data</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<span class="linenos">43</span>                            <span class="k">return</span> <span class="nx">data</span><span class="p">;</span>
<span class="linenos">44</span>                        <span class="p">})</span>
<span class="linenos">45</span>                        <span class="p">);</span>
<span class="linenos">46</span>    <span class="p">}</span>
<span class="linenos">47</span>
<span class="linenos">48</span>    <span class="c1">// Hacemos un método PUT:</span>
<span class="linenos">49</span>    <span class="nx">putConsola</span><span class="p">(</span><span class="nx">consola</span>: <span class="kt">any</span><span class="p">,</span> <span class="nx">modelo</span>: <span class="kt">string</span><span class="p">)</span><span class="o">:</span> <span class="nx">any</span> <span class="p">{</span>
<span class="linenos">50</span>        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">base</span><span class="si">}</span><span class="sb">/consola/actualizar/</span><span class="si">${</span><span class="nx">modelo</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span> <span class="nx">consola</span><span class="p">)</span>
<span class="linenos">51</span>                        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span>
<span class="linenos">52</span>                        <span class="nx">map</span><span class="p">((</span><span class="nx">data</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<span class="linenos">53</span>                            <span class="k">return</span> <span class="nx">data</span><span class="p">;</span>
<span class="linenos">54</span>                        <span class="p">})</span>
<span class="linenos">55</span>                        <span class="p">);</span>
<span class="linenos">56</span>    <span class="p">}</span>
<span class="linenos">57</span>
<span class="linenos">58</span>    <span class="c1">// hacemos el metodo delete:</span>
<span class="linenos">59</span>    <span class="nx">deleteConsola</span><span class="p">(</span><span class="nx">modelo</span>: <span class="kt">string</span><span class="p">){</span>
<span class="linenos">60</span>        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="ow">delete</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">base</span><span class="si">}</span><span class="sb">/consola/eliminar/</span><span class="si">${</span><span class="nx">modelo</span><span class="si">}</span><span class="sb">`</span><span class="p">)</span>
<span class="linenos">61</span>                        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span>
<span class="linenos">62</span>                        <span class="nx">map</span><span class="p">((</span><span class="nx">data</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<span class="linenos">63</span>                            <span class="k">return</span> <span class="nx">data</span><span class="p">;</span>
<span class="linenos">64</span>                        <span class="p">})</span>
<span class="linenos">65</span>                        <span class="p">);</span>
<span class="linenos">66</span>    <span class="p">}</span>
<span class="linenos">67</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Creamos un nuevo componente <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">generate</span> <span class="pre">components</span> <span class="pre">pages/index</span></code> para sacar un listado de consolas.</p></li>
<li><p>Se crea un nuevo componente <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">generate</span> <span class="pre">component</span> <span class="pre">pages/crearConsola</span></code></p></li>
<li><p>Se crea un componente <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">generate</span> <span class="pre">component</span> <span class="pre">pages/actualizar</span></code></p></li>
<li><p>Añadimos las rutas de los nuevos componentes:</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">NgModule</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span><span class="k">import</span> <span class="p">{</span> <span class="nx">RouterModule</span><span class="p">,</span> <span class="nx">Routes</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/router&#39;</span><span class="p">;</span>
<span class="linenos"> 3</span><span class="k">import</span> <span class="p">{</span> <span class="nx">ActualizarComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./pages/actualizar/actualizar.component&#39;</span><span class="p">;</span>
<span class="linenos"> 4</span><span class="k">import</span> <span class="p">{</span> <span class="nx">CrearConsolaComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./pages/crear-consola/crear-consola.component&#39;</span><span class="p">;</span>
<span class="linenos"> 5</span><span class="k">import</span> <span class="p">{</span> <span class="nx">IndexComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./pages/index/index.component&#39;</span><span class="p">;</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="kd">const</span> <span class="nx">routes</span>: <span class="kt">Routes</span> <span class="o">=</span> <span class="p">[</span>
<span class="linenos"> 8</span><span class="p">{</span><span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">component</span>: <span class="kt">IndexComponent</span><span class="p">},</span>
<span class="linenos"> 9</span><span class="p">{</span><span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;crear&#39;</span><span class="p">,</span> <span class="nx">component</span>: <span class="kt">CrearConsolaComponent</span><span class="p">},</span>
<span class="linenos">10</span><span class="p">{</span><span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;actualizar/:modelo&#39;</span><span class="p">,</span> <span class="nx">component</span>: <span class="kt">ActualizarComponent</span><span class="p">}</span>
<span class="linenos">11</span><span class="p">];</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="kd">@NgModule</span><span class="p">({</span>
<span class="linenos">14</span><span class="nx">imports</span><span class="o">:</span> <span class="p">[</span><span class="nx">RouterModule</span><span class="p">.</span><span class="nx">forRoot</span><span class="p">(</span><span class="nx">routes</span><span class="p">)],</span>
<span class="linenos">15</span><span class="nx">exports</span><span class="o">:</span> <span class="p">[</span><span class="nx">RouterModule</span><span class="p">]</span>
<span class="linenos">16</span><span class="p">})</span>
<span class="linenos">17</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">AppRoutingModule</span> <span class="p">{</span> <span class="p">}</span>
</pre></div>
</div>
</section>
<section id="peticiones-get">
<h3><a class="toc-backref" href="#id59">Peticiones GET</a><a class="headerlink" href="#peticiones-get" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Se edita el componente:</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Consolas</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;src/app/interfaces/consolas&#39;</span><span class="p">;</span>
<span class="linenos"> 3</span><span class="k">import</span> <span class="p">{</span> <span class="nx">ConsolasService</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;src/app/services/consolas.service&#39;</span><span class="p">;</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="kd">@Component</span><span class="p">({</span>
<span class="linenos"> 6</span>    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-index&#39;</span><span class="p">,</span>
<span class="linenos"> 7</span>    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./index.component.html&#39;</span><span class="p">,</span>
<span class="linenos"> 8</span>    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./index.component.css&#39;</span><span class="p">]</span>
<span class="linenos"> 9</span><span class="p">})</span>
<span class="linenos">10</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">IndexComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
<span class="linenos">11</span>
<span class="linenos">12</span>    <span class="c1">// se crea una colección de objetos de tipo consolas:</span>
<span class="linenos">13</span>    <span class="nx">consolas</span>: <span class="kt">Array</span><span class="o">&lt;</span><span class="nx">Consolas</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[];</span>
<span class="linenos">14</span>    <span class="c1">// se carga el servicio en el constructor:</span>
<span class="linenos">15</span>    <span class="kr">constructor</span><span class="p">(</span><span class="k">private</span> <span class="nx">consolasService</span>: <span class="kt">ConsolasService</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos">16</span>
<span class="linenos">17</span>    <span class="p">}</span>
<span class="linenos">18</span>
<span class="linenos">19</span>    <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">20</span>        <span class="c1">// hay que subscribir los datos a la hora de obtenerlos con rxjs:</span>
<span class="linenos">21</span>        <span class="k">this</span><span class="p">.</span><span class="nx">consolasService</span><span class="p">.</span><span class="nx">getConsolas</span><span class="p">()</span> <span class="c1">// o se usa any o se valida que es de tipo colección de consolas:</span>
<span class="linenos">22</span>                            <span class="p">.</span><span class="nx">subscribe</span><span class="p">((</span><span class="nx">res</span>:<span class="kt">Array</span><span class="o">&lt;</span><span class="nx">Consolas</span><span class="o">&gt;</span><span class="p">)=&gt;{</span>
<span class="linenos">23</span>                            <span class="k">this</span><span class="p">.</span><span class="nx">consolas</span> <span class="o">=</span> <span class="nx">res</span><span class="p">;</span>
<span class="linenos">24</span>                            <span class="p">},</span> <span class="p">(</span><span class="nx">err</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">=&gt;{</span> <span class="c1">// si falla se ejecuta esta linea</span>
<span class="linenos">25</span>                            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="linenos">26</span>                            <span class="p">});</span>
<span class="linenos">27</span>    <span class="p">}</span>
<span class="linenos">28</span>
<span class="linenos">29</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Se edita el template:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>&lt;h2&gt;Listado de consolas&lt;/h2&gt;
<span class="linenos"> 2</span>&lt;table border=1&gt;
<span class="linenos"> 3</span>&lt;tr&gt;
<span class="linenos"> 4</span>    &lt;th&gt;Marca&lt;/th&gt;
<span class="linenos"> 5</span>    &lt;th&gt;Modelo&lt;/th&gt;
<span class="linenos"> 6</span>    &lt;th&gt;Lanzamiento&lt;/th&gt;
<span class="linenos"> 7</span>&lt;/tr&gt;
<span class="linenos"> 8</span>&lt;tr *ngFor=&quot;let consola of consolas&quot;&gt;
<span class="linenos"> 9</span>    &lt;td&gt;{{ consola.marca }}&lt;/td&gt;
<span class="linenos">10</span>    &lt;td&gt;{{ consola.modelo }}&lt;/td&gt;
<span class="linenos">11</span>    &lt;td&gt;{{ consola.lanzamiento }}&lt;/td&gt;
<span class="linenos">12</span>&lt;/tr&gt;
<span class="linenos">13</span>&lt;/table&gt;
</pre></div>
</div>
</section>
<section id="peticiones-post">
<h3><a class="toc-backref" href="#id60">Peticiones POST</a><a class="headerlink" href="#peticiones-post" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>se edita el componente:</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span><span class="c1">// cargamos el router para una redirección:</span>
<span class="linenos"> 3</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Router</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/router&#39;</span><span class="p">;</span>
<span class="linenos"> 4</span><span class="c1">// se importa la interfaz consolas:</span>
<span class="linenos"> 5</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Consolas</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;src/app/interfaces/consolas&#39;</span><span class="p">;</span>
<span class="linenos"> 6</span><span class="k">import</span> <span class="p">{</span> <span class="nx">ConsolasService</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;src/app/services/consolas.service&#39;</span><span class="p">;</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="kd">@Component</span><span class="p">({</span>
<span class="linenos"> 9</span>    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-crear-consola&#39;</span><span class="p">,</span>
<span class="linenos">10</span>    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./crear-consola.component.html&#39;</span><span class="p">,</span>
<span class="linenos">11</span>    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./crear-consola.component.css&#39;</span><span class="p">]</span>
<span class="linenos">12</span><span class="p">})</span>
<span class="linenos">13</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">CrearConsolaComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
<span class="linenos">14</span>    <span class="c1">// se prepara el objeto para añadir una consola:</span>
<span class="linenos">15</span>    <span class="nx">consola</span>: <span class="kt">Consolas</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">16</span>        <span class="nx">marca</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="linenos">17</span>        <span class="nx">modelo</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="linenos">18</span>        <span class="nx">lanzamiento</span>: <span class="kt">0</span>
<span class="linenos">19</span>    <span class="p">}</span>
<span class="linenos">20</span>    <span class="c1">// se trae el servicio de consolas y el router para uan redirección:</span>
<span class="linenos">21</span>    <span class="kr">constructor</span><span class="p">(</span><span class="k">private</span> <span class="nx">consolasService</span>: <span class="kt">ConsolasService</span><span class="p">,</span> <span class="k">private</span> <span class="nx">route</span>: <span class="kt">Router</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
<span class="linenos">22</span>
<span class="linenos">23</span>    <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">24</span>    <span class="p">}</span>
<span class="linenos">25</span>
<span class="linenos">26</span>    <span class="nx">crearConsola</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span><span class="p">{</span>
<span class="linenos">27</span>        <span class="k">this</span><span class="p">.</span><span class="nx">consolasService</span><span class="p">.</span><span class="nx">postConsola</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">consola</span><span class="p">)</span>
<span class="linenos">28</span>                            <span class="p">.</span><span class="nx">subscribe</span><span class="p">((</span><span class="nx">res</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<span class="linenos">29</span>                            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span> <span class="c1">// esto se quita en producción</span>
<span class="linenos">30</span>                            <span class="c1">// haremos una redirección al listado:</span>
<span class="linenos">31</span>                            <span class="k">this</span><span class="p">.</span><span class="nx">route</span><span class="p">.</span><span class="nx">navigate</span><span class="p">([</span><span class="s1">&#39;/&#39;</span><span class="p">]);</span>
<span class="linenos">32</span>                            <span class="p">},</span> <span class="p">(</span><span class="nx">err</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<span class="linenos">33</span>                            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="linenos">34</span>                            <span class="p">});</span>
<span class="linenos">35</span>    <span class="p">}</span>
<span class="linenos">36</span>
<span class="linenos">37</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Y ahora se edita el template:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="o">&lt;</span><span class="n">h2</span><span class="o">&gt;</span><span class="n">Crear</span> <span class="n">nueva</span> <span class="n">consola</span><span class="o">&lt;/</span><span class="n">h2</span><span class="o">&gt;</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos"> 4</span>    <span class="o">&lt;</span><span class="n">label</span><span class="o">&gt;</span><span class="n">Marca</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
<span class="linenos"> 5</span>    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;marca&quot;</span> <span class="p">[(</span><span class="n">ngModel</span><span class="p">)]</span><span class="o">=</span><span class="s2">&quot;consola.marca&quot;</span><span class="o">&gt;</span>
<span class="linenos"> 6</span>    <span class="o">&lt;</span><span class="n">label</span><span class="o">&gt;</span><span class="n">Modelo</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
<span class="linenos"> 7</span>    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;modelo&quot;</span> <span class="p">[(</span><span class="n">ngModel</span><span class="p">)]</span><span class="o">=</span><span class="s2">&quot;consola.modelo&quot;</span><span class="o">&gt;</span>
<span class="linenos"> 8</span>    <span class="o">&lt;</span><span class="n">label</span><span class="o">&gt;</span><span class="n">Lanzamiento</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
<span class="linenos"> 9</span>    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;number&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;lanzamiento&quot;</span> <span class="p">[(</span><span class="n">ngModel</span><span class="p">)]</span><span class="o">=</span><span class="s2">&quot;consola.lanzamiento&quot;</span><span class="o">&gt;</span>
<span class="linenos">10</span>    <span class="o">&lt;</span><span class="n">button</span> <span class="p">(</span><span class="n">click</span><span class="p">)</span><span class="o">=</span><span class="s2">&quot;crearConsola()&quot;</span><span class="o">&gt;</span><span class="n">Añadir</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
<span class="linenos">11</span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Se debería crear un comnponente solo para el formulario y reutilizar en la vista editar pero esto es un ejemplo básico.</p>
</div>
</section>
<section id="peticiones-put">
<h3><a class="toc-backref" href="#id61">Peticiones PUT</a><a class="headerlink" href="#peticiones-put" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>En el template del listado se añade el botón con un parámetro para buscar el elemento:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>&lt;h2&gt;Listado de consolas&lt;/h2&gt;
<span class="linenos"> 2</span>&lt;table border=1&gt;
<span class="linenos"> 3</span>&lt;tr&gt;
<span class="linenos"> 4</span>    &lt;th&gt;Marca&lt;/th&gt;
<span class="linenos"> 5</span>    &lt;th&gt;Modelo&lt;/th&gt;
<span class="linenos"> 6</span>    &lt;th&gt;Lanzamiento&lt;/th&gt;
<span class="linenos"> 7</span>&lt;/tr&gt;
<span class="linenos"> 8</span>&lt;tr *ngFor=&quot;let consola of consolas&quot;&gt;
<span class="linenos"> 9</span>    &lt;td&gt;{{ consola.marca }}&lt;/td&gt;
<span class="linenos">10</span>    &lt;td&gt;{{ consola.modelo }}&lt;/td&gt;
<span class="linenos">11</span>    &lt;td&gt;{{ consola.lanzamiento }}&lt;/td&gt;
<span class="linenos">12</span>    &lt;td&gt;
<span class="linenos">13</span>    &lt;button routerLink=&quot;actualizar/{{ consola.modelo }}&quot;&gt;editar&lt;/button&gt;
<span class="linenos">14</span>    &lt;/td&gt;
<span class="linenos">15</span>&lt;/tr&gt;
<span class="linenos">16</span>&lt;/table&gt;
</pre></div>
</div>
<ul class="simple">
<li><p>Se edita el componente actualizar:</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span><span class="k">import</span> <span class="p">{</span> <span class="nx">ActivatedRoute</span><span class="p">,</span> <span class="nx">Router</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/router&#39;</span><span class="p">;</span>
<span class="linenos"> 3</span><span class="c1">// cargar el interface:</span>
<span class="linenos"> 4</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Consolas</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;src/app/interfaces/consolas&#39;</span><span class="p">;</span>
<span class="linenos"> 5</span><span class="c1">// importar el servicio:</span>
<span class="linenos"> 6</span><span class="k">import</span> <span class="p">{</span> <span class="nx">ConsolasService</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;src/app/services/consolas.service&#39;</span><span class="p">;</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="kd">@Component</span><span class="p">({</span>
<span class="linenos"> 9</span>    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-actualizar&#39;</span><span class="p">,</span>
<span class="linenos">10</span>    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./actualizar.component.html&#39;</span><span class="p">,</span>
<span class="linenos">11</span>    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./actualizar.component.css&#39;</span><span class="p">]</span>
<span class="linenos">12</span><span class="p">})</span>
<span class="linenos">13</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">ActualizarComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
<span class="linenos">14</span>    <span class="c1">// crear un atributo donde guardar la marca:</span>
<span class="linenos">15</span>    <span class="nx">modelo</span>: <span class="kt">string</span><span class="p">;</span>
<span class="linenos">16</span>    <span class="c1">// se prepara el objeto para añadir una consola:</span>
<span class="linenos">17</span>    <span class="nx">consola</span>: <span class="kt">Consolas</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">18</span>        <span class="nx">marca</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="linenos">19</span>        <span class="nx">modelo</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="linenos">20</span>        <span class="nx">lanzamiento</span>: <span class="kt">0</span>
<span class="linenos">21</span>    <span class="p">}</span>
<span class="linenos">22</span>
<span class="linenos">23</span>    <span class="c1">// cargar el modulo de ruta activa para coger el parámetro get y el servicio:</span>
<span class="linenos">24</span>    <span class="kr">constructor</span><span class="p">(</span><span class="k">private</span> <span class="nx">route</span>: <span class="kt">ActivatedRoute</span><span class="p">,</span> <span class="k">private</span> <span class="nx">router</span>: <span class="kt">Router</span><span class="p">,</span> <span class="k">private</span> <span class="nx">consolasService</span>: <span class="kt">ConsolasService</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos">25</span>        <span class="c1">// asignar el valor de modelo recibido por parámetros:</span>
<span class="linenos">26</span>        <span class="k">this</span><span class="p">.</span><span class="nx">modelo</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">route</span><span class="p">.</span><span class="nx">snapshot</span><span class="p">.</span><span class="nx">params</span><span class="p">[</span><span class="s1">&#39;modelo&#39;</span><span class="p">];</span>
<span class="linenos">27</span>        <span class="c1">// nos subscribimos al servicio:</span>
<span class="linenos">28</span>        <span class="k">this</span><span class="p">.</span><span class="nx">consolasService</span><span class="p">.</span><span class="nx">getConsola</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">modelo</span><span class="p">)</span>
<span class="linenos">29</span>                            <span class="p">.</span><span class="nx">subscribe</span><span class="p">((</span><span class="nx">res</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">=&gt;{</span>
<span class="linenos">30</span>                            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="linenos">31</span>                            <span class="p">},</span> <span class="p">(</span><span class="nx">err</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<span class="linenos">32</span>                            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="linenos">33</span>                            <span class="p">});</span>
<span class="linenos">34</span>    <span class="p">}</span>
<span class="linenos">35</span>
<span class="linenos">36</span>    <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">37</span>    <span class="p">}</span>
<span class="linenos">38</span>
<span class="linenos">39</span>    <span class="nx">editarConsola</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">40</span>        <span class="k">this</span><span class="p">.</span><span class="nx">consolasService</span><span class="p">.</span><span class="nx">putConsola</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">consola</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">modelo</span><span class="p">)</span>
<span class="linenos">41</span>                            <span class="p">.</span><span class="nx">subscribe</span><span class="p">((</span><span class="nx">res</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">=&gt;{</span>
<span class="linenos">42</span>                            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="linenos">43</span>                            <span class="c1">// redireccionamos:</span>
<span class="linenos">44</span>                            <span class="k">this</span><span class="p">.</span><span class="nx">router</span><span class="p">.</span><span class="nx">navigate</span><span class="p">([</span><span class="s1">&#39;/&#39;</span><span class="p">]);</span>
<span class="linenos">45</span>                            <span class="p">},</span> <span class="p">(</span><span class="nx">err</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<span class="linenos">46</span>                            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="linenos">47</span>                            <span class="p">});</span>
<span class="linenos">48</span>    <span class="p">}</span>
<span class="linenos">49</span>
<span class="linenos">50</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Crear el template:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>&lt;h2&gt;Editar {{modelo}}&lt;/h2&gt;
<span class="linenos"> 2</span>
<span class="linenos"> 3</span>&lt;div&gt;
<span class="linenos"> 4</span>    &lt;label&gt;Marca&lt;/label&gt;
<span class="linenos"> 5</span>    &lt;input type=&quot;text&quot; name=&quot;marca&quot; [(ngModel)]=&quot;consola.marca&quot;&gt;
<span class="linenos"> 6</span>    &lt;label&gt;Modelo&lt;/label&gt;
<span class="linenos"> 7</span>    &lt;input type=&quot;text&quot; name=&quot;modelo&quot; [(ngModel)]=&quot;consola.modelo&quot;&gt;
<span class="linenos"> 8</span>    &lt;label&gt;Lanzamiento&lt;/label&gt;
<span class="linenos"> 9</span>    &lt;input type=&quot;number&quot; name=&quot;lanzamiento&quot; [(ngModel)]=&quot;consola.lanzamiento&quot;&gt;
<span class="linenos">10</span>    &lt;button (click)=&quot;editarConsola()&quot;&gt;Actualizar&lt;/button&gt;
<span class="linenos">11</span>&lt;/div&gt;
</pre></div>
</div>
</section>
<section id="peticiones-delete">
<h3><a class="toc-backref" href="#id62">Peticiones DELETE</a><a class="headerlink" href="#peticiones-delete" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Empezamos en el template del listado:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>&lt;h2&gt;Listado de consolas&lt;/h2&gt;
<span class="linenos"> 2</span>&lt;table border=1&gt;
<span class="linenos"> 3</span>&lt;tr&gt;
<span class="linenos"> 4</span>    &lt;th&gt;Marca&lt;/th&gt;
<span class="linenos"> 5</span>    &lt;th&gt;Modelo&lt;/th&gt;
<span class="linenos"> 6</span>    &lt;th&gt;Lanzamiento&lt;/th&gt;
<span class="linenos"> 7</span>&lt;/tr&gt;
<span class="linenos"> 8</span>&lt;tr *ngFor=&quot;let consola of consolas&quot;&gt;
<span class="linenos"> 9</span>    &lt;td&gt;{{ consola.marca }}&lt;/td&gt;
<span class="linenos">10</span>    &lt;td&gt;{{ consola.modelo }}&lt;/td&gt;
<span class="linenos">11</span>    &lt;td&gt;{{ consola.lanzamiento }}&lt;/td&gt;
<span class="linenos">12</span>    &lt;td&gt;
<span class="linenos">13</span>    &lt;button routerLink=&quot;actualizar/{{ consola.modelo }}&quot;&gt;editar&lt;/button&gt;
<span class="linenos">14</span>    &lt;/td&gt;
<span class="linenos">15</span>    &lt;td&gt;
<span class="linenos">16</span>    &lt;!-- añadir el nuevo boton de eliminar --&gt;
<span class="linenos">17</span>    &lt;button (click)=&quot;eliminarConsola(consola.modelo)&quot;&gt;Eliminar&lt;/button&gt;
<span class="linenos">18</span>    &lt;/td&gt;
<span class="linenos">19</span>&lt;/tr&gt;
<span class="linenos">20</span>&lt;/table&gt;
</pre></div>
</div>
<ul class="simple">
<li><p>Creamos el metodo y hacemos la petición delete:</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span><span class="k">import</span> <span class="p">{</span> <span class="nx">Consolas</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;src/app/interfaces/consolas&#39;</span><span class="p">;</span>
<span class="linenos"> 3</span><span class="k">import</span> <span class="p">{</span> <span class="nx">ConsolasService</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;src/app/services/consolas.service&#39;</span><span class="p">;</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="kd">@Component</span><span class="p">({</span>
<span class="linenos"> 6</span>    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-index&#39;</span><span class="p">,</span>
<span class="linenos"> 7</span>    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./index.component.html&#39;</span><span class="p">,</span>
<span class="linenos"> 8</span>    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./index.component.css&#39;</span><span class="p">]</span>
<span class="linenos"> 9</span><span class="p">})</span>
<span class="linenos">10</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">IndexComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
<span class="linenos">11</span>
<span class="linenos">12</span>    <span class="nx">consolas</span>: <span class="kt">Array</span><span class="o">&lt;</span><span class="nx">Consolas</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[];</span>
<span class="linenos">13</span>    <span class="kr">constructor</span><span class="p">(</span><span class="k">private</span> <span class="nx">consolasService</span>: <span class="kt">ConsolasService</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos">14</span>
<span class="linenos">15</span>    <span class="p">}</span>
<span class="linenos">16</span>
<span class="linenos">17</span>    <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">{</span>
<span class="linenos">18</span>        <span class="k">this</span><span class="p">.</span><span class="nx">cargarClientes</span><span class="p">();</span>
<span class="linenos">19</span>    <span class="p">}</span>
<span class="linenos">20</span>
<span class="linenos">21</span>    <span class="nx">eliminarConsola</span><span class="p">(</span><span class="nx">modelo</span>: <span class="kt">string</span><span class="p">){</span>
<span class="linenos">22</span>        <span class="k">this</span><span class="p">.</span><span class="nx">consolasService</span><span class="p">.</span><span class="nx">deleteConsola</span><span class="p">(</span><span class="nx">modelo</span><span class="p">)</span>
<span class="linenos">23</span>                            <span class="p">.</span><span class="nx">subscribe</span><span class="p">((</span><span class="nx">res</span>:<span class="kt">any</span><span class="p">)=&gt;{</span>
<span class="linenos">24</span>                            <span class="c1">// refrescar pantalla:</span>
<span class="linenos">25</span>                            <span class="k">this</span><span class="p">.</span><span class="nx">cargarClientes</span><span class="p">();</span>
<span class="linenos">26</span>                            <span class="p">},</span> <span class="p">(</span><span class="nx">err</span>: <span class="kt">any</span><span class="p">)=&gt;{</span>
<span class="linenos">27</span>                            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="linenos">28</span>                            <span class="p">});</span>
<span class="linenos">29</span>    <span class="p">}</span>
<span class="linenos">30</span>
<span class="linenos">31</span>    <span class="c1">// recuperamos la petición del listado y la añadimos a esta función para reutilizar de manera limpia:</span>
<span class="linenos">32</span>    <span class="nx">cargarClientes</span><span class="p">(){</span>
<span class="linenos">33</span>        <span class="k">this</span><span class="p">.</span><span class="nx">consolasService</span><span class="p">.</span><span class="nx">getConsolas</span><span class="p">()</span>
<span class="linenos">34</span>        <span class="p">.</span><span class="nx">subscribe</span><span class="p">((</span><span class="nx">res</span>:<span class="kt">Array</span><span class="o">&lt;</span><span class="nx">Consolas</span><span class="o">&gt;</span><span class="p">)=&gt;{</span>
<span class="linenos">35</span>        <span class="k">this</span><span class="p">.</span><span class="nx">consolas</span> <span class="o">=</span> <span class="nx">res</span><span class="p">;</span>
<span class="linenos">36</span>        <span class="p">},</span> <span class="p">(</span><span class="nx">err</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">=&gt;{</span>
<span class="linenos">37</span>        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="linenos">38</span>        <span class="p">});</span>
<span class="linenos">39</span>    <span class="p">}</span>
<span class="linenos">40</span>
<span class="linenos">41</span><span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="angular-material">
<h2><a class="toc-backref" href="#id63">Angular Material</a><a class="headerlink" href="#angular-material" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Angular material es una librería de estilos muy útil en ángular.</p>
<section id="preparacion">
<h3><a class="toc-backref" href="#id64">Preparación</a><a class="headerlink" href="#preparacion" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Instalar angular material: <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">add</span> <span class="pre">&#64;angular/material</span></code></p></li>
<li><p>Crear módulo para separar la lógica de angular material: <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">generate</span> <span class="pre">module</span> <span class="pre">material</span></code></p></li>
<li><p>Cargar modulo <strong>material.module.ts</strong> en <strong>app.material.ts</strong>:</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">NgModule</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span><span class="k">import</span> <span class="p">{</span> <span class="nx">BrowserModule</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/platform-browser&#39;</span><span class="p">;</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="k">import</span> <span class="p">{</span> <span class="nx">AppRoutingModule</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./app-routing.module&#39;</span><span class="p">;</span>
<span class="linenos"> 5</span><span class="k">import</span> <span class="p">{</span> <span class="nx">AppComponent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./app.component&#39;</span><span class="p">;</span>
<span class="linenos"> 6</span><span class="k">import</span> <span class="p">{</span> <span class="nx">BrowserAnimationsModule</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/platform-browser/animations&#39;</span><span class="p">;</span>
<span class="linenos"> 7</span><span class="c1">// importamos el módulo:</span>
<span class="linenos"> 8</span><span class="k">import</span> <span class="p">{</span> <span class="nx">MaterialModule</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./material/material.module&#39;</span><span class="p">;</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="kd">@NgModule</span><span class="p">({</span>
<span class="linenos">11</span><span class="nx">declarations</span><span class="o">:</span> <span class="p">[</span>
<span class="linenos">12</span>    <span class="nx">AppComponent</span>
<span class="linenos">13</span><span class="p">],</span>
<span class="linenos">14</span><span class="nx">imports</span><span class="o">:</span> <span class="p">[</span>
<span class="linenos">15</span>    <span class="nx">BrowserModule</span><span class="p">,</span>
<span class="linenos">16</span>    <span class="nx">AppRoutingModule</span><span class="p">,</span>
<span class="linenos">17</span>    <span class="nx">BrowserAnimationsModule</span><span class="p">,</span>
<span class="linenos">18</span>    <span class="nx">MaterialModule</span>
<span class="linenos">19</span><span class="p">],</span>
<span class="linenos">20</span><span class="nx">providers</span><span class="o">:</span> <span class="p">[],</span>
<span class="linenos">21</span><span class="nx">bootstrap</span><span class="o">:</span> <span class="p">[</span><span class="nx">AppComponent</span><span class="p">]</span>
<span class="linenos">22</span><span class="p">})</span>
<span class="linenos">23</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">AppModule</span> <span class="p">{</span> <span class="p">}</span>
</pre></div>
</div>
</section>
<section id="uso-de-componentes">
<h3><a class="toc-backref" href="#id65">Uso de componentes</a><a class="headerlink" href="#uso-de-componentes" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Editar modulo <strong>material.module.ts</strong> para cargar componentes de angular material y exportarlos:</p></li>
</ul>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span> <span class="p">{</span> <span class="nx">NgModule</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="linenos"> 2</span><span class="c1">// cargamos el modulo del elemento a usar de angular material:</span>
<span class="linenos"> 3</span><span class="k">import</span> <span class="p">{</span><span class="nx">MatToolbarModule</span><span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@angular/material/toolbar&#39;</span><span class="p">;</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="kd">@NgModule</span><span class="p">({</span>
<span class="linenos"> 7</span><span class="nx">declarations</span><span class="o">:</span> <span class="p">[],</span>
<span class="linenos"> 8</span><span class="nx">imports</span><span class="o">:</span> <span class="p">[</span> <span class="c1">// se importa y se exporta:</span>
<span class="linenos"> 9</span>    <span class="nx">MatToolbarModule</span>
<span class="linenos">10</span><span class="p">],</span>
<span class="linenos">11</span><span class="nx">exports</span><span class="o">:</span> <span class="p">[</span>
<span class="linenos">12</span>    <span class="nx">MatToolbarModule</span>
<span class="linenos">13</span><span class="p">]</span>
<span class="linenos">14</span><span class="p">})</span>
<span class="linenos">15</span><span class="k">export</span> <span class="kd">class</span> <span class="nx">MaterialModule</span> <span class="p">{</span> <span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>En cualquier template se puede cargar el componente añadido, en este caso <strong>MatToolbarModule</strong>:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="p">&lt;</span><span class="nt">mat-toolbar</span> <span class="na">color</span><span class="o">=</span><span class="s">&quot;primary&quot;</span><span class="p">&gt;</span>
<span class="linenos">2</span>    <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>Taller angular<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="linenos">3</span><span class="p">&lt;/</span><span class="nt">mat-toolbar</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>En la página <a class="reference external" href="https://material.angular.io/components/categories">https://material.angular.io/components/categories</a> se pueden ver los distintos componentes que pueden añadirse.</p>
</div>
</section>
</section>
</section>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Creado por Guillermo Granados Gomez bajo Licencia MIT

    </p>
  </div> 

</footer>

        </div>


      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>